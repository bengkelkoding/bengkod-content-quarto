<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Associate Data Science - Studi Kasus 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./project_regresi.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./studi_kasus.html"><b>Studi Kasus</b></a></li><li class="breadcrumb-item"><a href="./project_clustering.html">Studi Kasus 3</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Associate Data Science</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><b>Pengantar</b></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./konsep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><b>Konsep</b></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Science Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Telaah Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Libraries for Data Preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Validasi dan Visualisasi Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Menentukan Objek atau Memilih Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Cleaning Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Transformasi Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pemodelan Data Science</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Evaluasi Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modul_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Deployment</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./studi_kasus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><b>Studi Kasus</b></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project_klasifikasi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Studi Kasus 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project_regresi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Studi Kasus 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project_clustering.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Studi Kasus 3</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#project-clustering---spotify-playlist-clustering" id="toc-project-clustering---spotify-playlist-clustering" class="nav-link active" data-scroll-target="#project-clustering---spotify-playlist-clustering">Project Clustering - Spotify Playlist Clustering</a></li>
  <li><a href="#project-overview" id="toc-project-overview" class="nav-link" data-scroll-target="#project-overview">Project Overview</a>
  <ul class="collapse">
  <li><a href="#spotify" id="toc-spotify" class="nav-link" data-scroll-target="#spotify">Spotify</a></li>
  <li><a href="#python" id="toc-python" class="nav-link" data-scroll-target="#python">Python</a></li>
  <li><a href="#streamlit" id="toc-streamlit" class="nav-link" data-scroll-target="#streamlit">Streamlit</a></li>
  <li><a href="#clustering" id="toc-clustering" class="nav-link" data-scroll-target="#clustering">Clustering</a></li>
  <li><a href="#k-means" id="toc-k-means" class="nav-link" data-scroll-target="#k-means">K-Means</a></li>
  </ul></li>
  <li><a href="#application-flow" id="toc-application-flow" class="nav-link" data-scroll-target="#application-flow">Application Flow</a>
  <ul class="collapse">
  <li><a href="#user-flow" id="toc-user-flow" class="nav-link" data-scroll-target="#user-flow">User Flow</a></li>
  <li><a href="#data-flow" id="toc-data-flow" class="nav-link" data-scroll-target="#data-flow">Data Flow</a></li>
  <li><a href="#function-flow" id="toc-function-flow" class="nav-link" data-scroll-target="#function-flow">Function Flow</a></li>
  </ul></li>
  <li><a href="#membuat-akun-spotify-developer" id="toc-membuat-akun-spotify-developer" class="nav-link" data-scroll-target="#membuat-akun-spotify-developer">Membuat Akun Spotify Developer</a>
  <ul class="collapse">
  <li><a href="#daftar-sebagai-spotify-developer" id="toc-daftar-sebagai-spotify-developer" class="nav-link" data-scroll-target="#daftar-sebagai-spotify-developer">Daftar Sebagai Spotify Developer</a></li>
  <li><a href="#pergi-ke-dashboard-spotify-dan-tekan-create-app" id="toc-pergi-ke-dashboard-spotify-dan-tekan-create-app" class="nav-link" data-scroll-target="#pergi-ke-dashboard-spotify-dan-tekan-create-app">Pergi ke dashboard spotify dan tekan create app</a></li>
  <li><a href="#isi-form-dengan-data" id="toc-isi-form-dengan-data" class="nav-link" data-scroll-target="#isi-form-dengan-data">Isi form dengan data</a></li>
  <li><a href="#klik-app-yang-sudah-dibuat" id="toc-klik-app-yang-sudah-dibuat" class="nav-link" data-scroll-target="#klik-app-yang-sudah-dibuat">Klik app yang sudah dibuat</a></li>
  <li><a href="#pergi-ke-settings-cari-clientid-dan-clientsecret" id="toc-pergi-ke-settings-cari-clientid-dan-clientsecret" class="nav-link" data-scroll-target="#pergi-ke-settings-cari-clientid-dan-clientsecret">Pergi ke settings, cari ClientID dan ClientSecret</a></li>
  </ul></li>
  <li><a href="#buat-repositori-di-github" id="toc-buat-repositori-di-github" class="nav-link" data-scroll-target="#buat-repositori-di-github">Buat Repositori di Github</a>
  <ul class="collapse">
  <li><a href="#login-ke-github" id="toc-login-ke-github" class="nav-link" data-scroll-target="#login-ke-github">Login ke Github</a></li>
  <li><a href="#buat-repository-baru" id="toc-buat-repository-baru" class="nav-link" data-scroll-target="#buat-repository-baru">Buat Repository Baru</a></li>
  <li><a href="#simpan-alamat-git-git-remote" id="toc-simpan-alamat-git-git-remote" class="nav-link" data-scroll-target="#simpan-alamat-git-git-remote">Simpan Alamat Git (git remote)</a></li>
  <li><a href="#open-folder-di-code-editor" id="toc-open-folder-di-code-editor" class="nav-link" data-scroll-target="#open-folder-di-code-editor">Open Folder di Code Editor</a></li>
  <li><a href="#buat-file-baru" id="toc-buat-file-baru" class="nav-link" data-scroll-target="#buat-file-baru">Buat File Baru</a></li>
  <li><a href="#push-file-ke-repository" id="toc-push-file-ke-repository" class="nav-link" data-scroll-target="#push-file-ke-repository">Push File ke Repository</a></li>
  </ul></li>
  <li><a href="#pengambilan-dataset" id="toc-pengambilan-dataset" class="nav-link" data-scroll-target="#pengambilan-dataset">Pengambilan Dataset</a>
  <ul class="collapse">
  <li><a href="#buka-file-notebook" id="toc-buka-file-notebook" class="nav-link" data-scroll-target="#buka-file-notebook">Buka File Notebook</a></li>
  <li><a href="#import-library-yang-dibutuhkan" id="toc-import-library-yang-dibutuhkan" class="nav-link" data-scroll-target="#import-library-yang-dibutuhkan">Import Library yang Dibutuhkan</a></li>
  <li><a href="#masukkan-variable-client_id-client_secret-dan-playlist_url" id="toc-masukkan-variable-client_id-client_secret-dan-playlist_url" class="nav-link" data-scroll-target="#masukkan-variable-client_id-client_secret-dan-playlist_url">Masukkan variable client_id, client_secret, dan playlist_url</a></li>
  <li><a href="#buat-fungsi-gettoken" id="toc-buat-fungsi-gettoken" class="nav-link" data-scroll-target="#buat-fungsi-gettoken">Buat fungsi getToken()</a></li>
  <li><a href="#buat-fungsi-getauthheader" id="toc-buat-fungsi-getauthheader" class="nav-link" data-scroll-target="#buat-fungsi-getauthheader">Buat fungsi getAuthHeader()</a></li>
  <li><a href="#buat-fungsi-getaudiofeatures" id="toc-buat-fungsi-getaudiofeatures" class="nav-link" data-scroll-target="#buat-fungsi-getaudiofeatures">Buat fungsi getAudioFeatures()</a></li>
  <li><a href="#buat-fungsi-getplaylistitems" id="toc-buat-fungsi-getplaylistitems" class="nav-link" data-scroll-target="#buat-fungsi-getplaylistitems">Buat fungsi getPlaylistItems()</a></li>
  <li><a href="#data-preprocessing" id="toc-data-preprocessing" class="nav-link" data-scroll-target="#data-preprocessing">Data Preprocessing</a></li>
  </ul></li>
  <li><a href="#clustering-menggunakan-k-means" id="toc-clustering-menggunakan-k-means" class="nav-link" data-scroll-target="#clustering-menggunakan-k-means">Clustering Menggunakan K-Means</a></li>
  <li><a href="#deploy-ke-streamlit" id="toc-deploy-ke-streamlit" class="nav-link" data-scroll-target="#deploy-ke-streamlit">Deploy ke Streamlit</a>
  <ul class="collapse">
  <li><a href="#buat-file-bernama-streamlit_app.py" id="toc-buat-file-bernama-streamlit_app.py" class="nav-link" data-scroll-target="#buat-file-bernama-streamlit_app.py">Buat file bernama streamlit_app.py</a></li>
  <li><a href="#tambahkan-fungsi-dataprocessing" id="toc-tambahkan-fungsi-dataprocessing" class="nav-link" data-scroll-target="#tambahkan-fungsi-dataprocessing">Tambahkan fungsi dataProcessing()</a></li>
  <li><a href="#buat-file-requirements.txt" id="toc-buat-file-requirements.txt" class="nav-link" data-scroll-target="#buat-file-requirements.txt">Buat file requirements.txt</a></li>
  <li><a href="#upload-ke-github-repository" id="toc-upload-ke-github-repository" class="nav-link" data-scroll-target="#upload-ke-github-repository">Upload ke github repository</a></li>
  <li><a href="#buat-akun-streamlit" id="toc-buat-akun-streamlit" class="nav-link" data-scroll-target="#buat-akun-streamlit">Buat Akun Streamlit</a></li>
  <li><a href="#create-new-app-isi-form" id="toc-create-new-app-isi-form" class="nav-link" data-scroll-target="#create-new-app-isi-form">Create new app, isi form</a></li>
  </ul></li>
  <li><a href="#kesimpulan" id="toc-kesimpulan" class="nav-link" data-scroll-target="#kesimpulan">Kesimpulan</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Studi Kasus 3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="project-clustering---spotify-playlist-clustering" class="level2">
<h2 class="anchored" data-anchor-id="project-clustering---spotify-playlist-clustering">Project Clustering - Spotify Playlist Clustering</h2>
</section>
<section id="project-overview" class="level2">
<h2 class="anchored" data-anchor-id="project-overview">Project Overview</h2>
<p>Project ini berfungsi untuk membuat sebuah aplikasi untuk melakukan proses clustering terhadap lagu-lagu yang ada di dalam sebuah playlist spotify.<br>
Lagu-lagu tersebut dikelompokan berdasarkan karakteristik lagu (audio feature) yang kita dapatkan dari spotify web API.<br>
Perlu diingat bahwa untuk project ini, kita akan buat algoritmanya dahulu, mengetesnya di notebook kita, lalu kita akan mengubahnya menjadi file python dan mengupload nya di Streamlit.</p>
<section id="spotify" class="level3">
<h3 class="anchored" data-anchor-id="spotify">Spotify</h3>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./1.spotify.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar1. Logo Spotify</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Spotify adalah platform musik digital yang menyediakan layanan streaming musik dan podcast. Musik dan podcast di-stream melalui internet tanpa perlu mengunduhnya secara permanen. Pengguna dapat membuat playlist pribadi dan menyimpan lagu favorit di Library.</p>
</section>
<section id="python" class="level3">
<h3 class="anchored" data-anchor-id="python">Python</h3>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./2.py.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar2. Logo Python</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Python adalah bahasa pemrograman serba guna yang dikembangkan pada awal 1990-an oleh Guido van Rossum. Tidak perlu mendeklarasikan tipe data variabel, dan nilai variabel dapat berubah saat program berjalan. Python mengutamakan kejelasan dan menghindari penggunaan tanda kurung kurawal atau titik koma. Python menyediakan pustaka bawaan (standard library) yang kaya, serta banyak modul dan pustaka dari pihak ketiga yang memperluas fungsionalitasnya.</p>
</section>
<section id="streamlit" class="level3">
<h3 class="anchored" data-anchor-id="streamlit">Streamlit</h3>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./3.st.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar3. Logo Streamlit</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Streamlit adalah framework open-source untuk mengembangkan aplikasi web interaktif dengan menggunakan bahasa pemrograman Python. Tujuannya adalah menyederhanakan proses pembuatan aplikasi web dengan memungkinkan pengembang untuk membuat aplikasi dengan mudah menggunakan kode Python yang sederhana dan familiar.</p>
</section>
<section id="clustering" class="level3">
<h3 class="anchored" data-anchor-id="clustering">Clustering</h3>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./4.clustering.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar4. Contoh Grafik Clustering</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Clustering adalah proses pengelompokan data atau objek-objek serupa menjadi kelompok-kelompok yang lebih homogen berdasarkan kesamaan fitur atau karakteristik tertentu.</p>
</section>
<section id="k-means" class="level3">
<h3 class="anchored" data-anchor-id="k-means">K-Means</h3>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./5.scatterplot.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar5. Contoh Clustering Menggunakan Scatter Plot</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Algoritma k-means adalah metode clustering yang mengelompokkan data menjadi beberapa kelompok berdasarkan jaraknya ke pusat kelompok yang ditentukan secara iteratif.</p>
<p>Untuk penjelasan Algoritma Clustering K-Means, bisa mengunjungi video ini https://www.youtube.com/watch?v=3XwBZbqo0mQ</p>
</section>
</section>
<section id="application-flow" class="level2">
<h2 class="anchored" data-anchor-id="application-flow">Application Flow</h2>
<p>User flow adalah interaksi antara user dan aplikasi ini harus kita pelajari dan petakan secara detail agar aplikasi bisa digunakan dengan user secara nyaman.<br>
Data flow adalah alur dari data yang ada di dalam aplikasi.<br>
Function flow adalah struktur dari fungsi yang ada di dalam aplikasi</p>
<section id="user-flow" class="level3">
<h3 class="anchored" data-anchor-id="user-flow">User Flow</h3>
<p>User flow dari aplikasi yang akan kita buat cukup simple :<br>
<img src="./6.userflow.png" class="img-fluid" alt="Gambar6. User Flow"></p>
</section>
<section id="data-flow" class="level3">
<h3 class="anchored" data-anchor-id="data-flow">Data Flow</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./7.dataflow.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar7. Data Flow</figcaption>
</figure>
</div>
</section>
<section id="function-flow" class="level3">
<h3 class="anchored" data-anchor-id="function-flow">Function Flow</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./8.functionflow.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar8. Function Flow</figcaption>
</figure>
</div>
</section>
</section>
<section id="membuat-akun-spotify-developer" class="level2">
<h2 class="anchored" data-anchor-id="membuat-akun-spotify-developer">Membuat Akun Spotify Developer</h2>
<section id="daftar-sebagai-spotify-developer" class="level3">
<h3 class="anchored" data-anchor-id="daftar-sebagai-spotify-developer">Daftar Sebagai Spotify Developer</h3>
<p>Untuk mengakses web API spotify, kita harus mendaftar sebagai spotify developer. Berikut langkahnya:<br>
- Pergi ke https://developer.spotify.com<br>
- Klik tombol daftar di pojok kanan atas<br>
- Isi form, klik daftar, verifikasi email<br>
- Login dengan akun terverifikasi<br>
- Pergi ke dashboard<br>
Jika anda sudah bisa masuk dashboard, berarti anda sudah terdaftar menjadi developer spotify! Ikuti langkah-langkah selanjutnya.</p>
</section>
<section id="pergi-ke-dashboard-spotify-dan-tekan-create-app" class="level3">
<h3 class="anchored" data-anchor-id="pergi-ke-dashboard-spotify-dan-tekan-create-app">Pergi ke dashboard spotify dan tekan create app</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./9.dashboard.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar9. Dashboard Spotify Developer</figcaption>
</figure>
</div>
</section>
<section id="isi-form-dengan-data" class="level3">
<h3 class="anchored" data-anchor-id="isi-form-dengan-data">Isi form dengan data</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./10.createapp.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar10. Isi Form di halaman Create App</figcaption>
</figure>
</div>
<p><strong>App name</strong>, nama dari aplikasi, misal spotify_playlist_clusterization<br>
<strong>App description</strong>, deskripsi singkat dari aplikasi yang akan dibuat<br>
<strong>Website</strong>, website personal dari pembuat aplikasi<br>
<strong>Redirect URI</strong>, umumnya user akan ditujukan ke URI ini ketika mengalami kegagalan request. namun untuk project ini, kita dapat mengisinya dengan apapun, seperti URL akun github atau linkedin</p>
</section>
<section id="klik-app-yang-sudah-dibuat" class="level3">
<h3 class="anchored" data-anchor-id="klik-app-yang-sudah-dibuat">Klik app yang sudah dibuat</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./11.app.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar11. Daftar App di Spotify Developer</figcaption>
</figure>
</div>
</section>
<section id="pergi-ke-settings-cari-clientid-dan-clientsecret" class="level3">
<h3 class="anchored" data-anchor-id="pergi-ke-settings-cari-clientid-dan-clientsecret">Pergi ke settings, cari ClientID dan ClientSecret</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./12.credentials.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar12. Client ID dan Client Secret dari App</figcaption>
</figure>
</div>
</section>
</section>
<section id="buat-repositori-di-github" class="level2">
<h2 class="anchored" data-anchor-id="buat-repositori-di-github">Buat Repositori di Github</h2>
<p>Github adalah aplikasi untuk mengontrol versioning dari koding kita. Github akan melacak perubahan yang kita buat di dalam file koding, sehingga kita dapat membandingkan atau kembali ke versi sebelumnya. Dalam project ini, Github juga digunakan untuk proses deployment di Streamlit.</p>
<section id="login-ke-github" class="level3">
<h3 class="anchored" data-anchor-id="login-ke-github">Login ke Github</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./13.git.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar13. Dashboard Github</figcaption>
</figure>
</div>
<p>Pergi ke Github.com dan login atau daftar akun baru. Jika anda membuat akun baru, jangan lupa verifikasi akun setelah dibuat. Jika anda sudah login, maka dashboard akun anda akan tampil seperti berikut:</p>
</section>
<section id="buat-repository-baru" class="level3">
<h3 class="anchored" data-anchor-id="buat-repository-baru">Buat Repository Baru</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./14.repo.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar14. Github Repo</figcaption>
</figure>
</div>
<p>Di side tab sebelah kiri dashboard anda klik tombol new untuk membuat sebuah repository baru. Repository adalah sebuah tempat untuk menyimpan code-code anda.<br>
Isi kolom seperti contoh, nama dan deskripsi bebas. Pastikan bahwa repository bersifat public. Lalu klik create repository</p>
</section>
<section id="simpan-alamat-git-git-remote" class="level3">
<h3 class="anchored" data-anchor-id="simpan-alamat-git-git-remote">Simpan Alamat Git (git remote)</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./15.gitremote.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar15. Github Remote</figcaption>
</figure>
</div>
<p>Setelah membuat repositori, halaman ini akan muncul. Copy alamat git (https://github.com/rif42/githubtest0.git) dan simpan data ini</p>
</section>
<section id="open-folder-di-code-editor" class="level3">
<h3 class="anchored" data-anchor-id="open-folder-di-code-editor">Open Folder di Code Editor</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./16.openfolder.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar16. Open Folder di VSCode</figcaption>
</figure>
</div>
<p>Buka code editor anda (contoh VScode atau IntelliJ), buka terminal, lalu open folder dan pilih sebuah folder.</p>
</section>
<section id="buat-file-baru" class="level3">
<h3 class="anchored" data-anchor-id="buat-file-baru">Buat File Baru</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./17.newfile.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar17. Buat File Baru</figcaption>
</figure>
</div>
<p>Buat file baru, dan namai file nya spotify_clustering.ipynb. File ini adalah sebuah notebook, mirip seperti jupyter notebook. Format notebook sangat bagus untuk eksperimen koding. Setelah file dibuat, tidak perlu diisi apapun.</p>
</section>
<section id="push-file-ke-repository" class="level3">
<h3 class="anchored" data-anchor-id="push-file-ke-repository">Push File ke Repository</h3>
<p>Buka terminal dengan cara menekan (ctrl + shift + `) atau membuka terminal &gt; new terminal di top bar vscode. Lalu ketik command berikut:</p>
<ul>
<li><code>git add .</code>, command ini berfungsi untuk menyimpan semua perubahan dalam file<br>
</li>
<li><code>git commit -m "first"</code>, command ini berfungsi untuk menyimpan commit, sebuah langkah terakhir untuk menyimpan semua perubahan yang ada di dalam repository. Teks yang ada di dalam tanda petik adalah message atau deskripsi dari commit.<br>
</li>
<li><code>git remote add origin [url]</code>, URL disini adalah alamat git yang didapat di langkah 4c (https://github.com/rif42/githubtest0.git)<br>
</li>
<li><code>git push origin master</code>, mengirim semua commit ke repository secara final</li>
</ul>
</section>
</section>
<section id="pengambilan-dataset" class="level2">
<h2 class="anchored" data-anchor-id="pengambilan-dataset">Pengambilan Dataset</h2>
<p>Dataset dari aplikasi yang kita gunakan adalah lagu-lagu yang ada didalam playlist dari user. Untuk mengambil lagu tersebut, kita perlu membuat sebuah script untuk berkomunikasi dengan spotify web API dan mengambil data yang kita butuhkan.</p>
<section id="buka-file-notebook" class="level3">
<h3 class="anchored" data-anchor-id="buka-file-notebook">Buka File Notebook</h3>
<p>Buka code editor anda dan temukan file notebook yang telah dibuat di langkah sebelumnya. Pastikan bahwa git repository telah aktif dengan menulis <code>git status</code> di terminal.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./18.ipynb.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar18. Buka file notebook (.ipynb)</figcaption>
</figure>
</div>
</section>
<section id="import-library-yang-dibutuhkan" class="level3">
<h3 class="anchored" data-anchor-id="import-library-yang-dibutuhkan">Import Library yang Dibutuhkan</h3>
<p>Jika library belum terinstall, maka jalankan command ini di terminal, lalu import<br>
- pip install streamlit<br>
- pip install pandas<br>
- pip install numpy<br>
- pip install scikit-learn<br>
- pip install plotly-express<br>
- pip install nbformat<br>
- pip install ipykernel<br>
Library yang tidak disebutkan diatas adalah library built in (seperti base64, json, csv), kita tidak perlu menginstall nya, kita hanya perlu mengimpornya saja</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> streamlit <span class="im">as</span> st</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> KMeans</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> PCA</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> base64</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> requests <span class="im">import</span> post, get</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> preprocessing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="masukkan-variable-client_id-client_secret-dan-playlist_url" class="level3">
<h3 class="anchored" data-anchor-id="masukkan-variable-client_id-client_secret-dan-playlist_url">Masukkan variable client_id, client_secret, dan playlist_url</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>client_id <span class="op">=</span> <span class="st">'97aeaf1e98f943edb1344ab86f71692a'</span> <span class="co">##ganti variabel dengan client_id milik anda</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>client_secret <span class="op">=</span> <span class="st">'9f35e123caa7490b904ad6bcb98f4ba9'</span> <span class="co">##ganti variabel dengan client_secret milik anda</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>playlistId <span class="op">=</span> <span class="st">'1dtCMTYzAOzwKXqklxPJNS'</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">## 37i9dQZF1DXbrUpGvoi3TS - 1(similar sad songs)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">## 1dtCMTYzAOzwKXqklxPJNS - 2(old songs, rock, rap)</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">## 0IN7IWKmIfwlEysGyWUuRg - 3(mix of modern electronic, pop, and rock)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> []</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>dataset2 <span class="op">=</span> []</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>dataset3 <span class="op">=</span> []</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ganti isi variable dengan client id dan client secret yang diperoleh dari akun spotify developer yang kita bahas di slide 14.<br>
Anda dapat menggunakan contoh URL playlist atau memasukkan URL playlist anda sendiri.<br>
Setelah itu, buat 3 variable kosong untuk menampung hasil pengolahan data kita di slide selanjutnya.</p>
</section>
<section id="buat-fungsi-gettoken" class="level3">
<h3 class="anchored" data-anchor-id="buat-fungsi-gettoken">Buat fungsi getToken()</h3>
<p>Kita akan menggunakan key Client ID dan Client Secret untuk mendapatkan akses token. Token ini berfungsi untuk memperbolehkan seseorang mengakses dan menggunakan spotify web API Pertama kita gabungkan string Client ID dan Client Secret, lalu kita encode key tersebut menggunakan algoritma enkripsi base64, dan kita kirim key tersebut ke server spotify web API. Panggil fungsi tersebut untuk mengecek apakah token bisa terambil atau tidak.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getToken():</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># gabungkan client_id dan client_secret</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    auth_string <span class="op">=</span> client_id <span class="op">+</span> <span class="st">':'</span> <span class="op">+</span> client_secret</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># encode ke base64</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    auth_b64 <span class="op">=</span> base64.b64encode(auth_string.encode(<span class="st">'utf-8'</span>))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># url untuk mengambil token</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">'https://accounts.spotify.com/api/token'</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># header untuk mengambil token - sesuai dengan guide dari spotify</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    headers <span class="op">=</span> {</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Authorization'</span>: <span class="st">'Basic '</span> <span class="op">+</span> auth_b64.decode(<span class="st">'utf-8'</span>),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Content-Type'</span>: <span class="st">'application/x-www-form-urlencoded'</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># data untuk mengambil token - sesuai dengan guide dari spotify</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> {<span class="st">'grant_type'</span>: <span class="st">'client_credentials'</span>}</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kirim request POST ke spotify</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> post(url, headers<span class="op">=</span>headers, data<span class="op">=</span>data)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># parse response ke json</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    json_result <span class="op">=</span> json.loads(result.content)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    token <span class="op">=</span> json_result[<span class="st">'access_token'</span>]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil token untuk akses API</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> token</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co">## panggil fungsi getToken() dibawah ini</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="buat-fungsi-getauthheader" class="level3">
<h3 class="anchored" data-anchor-id="buat-fungsi-getauthheader">Buat fungsi getAuthHeader()</h3>
<p>Fungsi ini berguna untuk mengambil token dan memasukkan token ke sebuah objek header request. Header request adalah sebuah metode identifikasi dan otorisasi di dalam API.<br>
Bearer berarti kita adalah sebuah klien yang meminta data. Di dalam objek header request, kita menyematkan token yang kita dapatkan untuk menandakan bahwa kita sudah mempunyai izin untuk mengakses API.<br>
Fungsi ini akan dipanggil nanti ketika kita akan me-request data dari API</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">## pengambilan token untuk otorisasi API</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getAuthHeader(token):</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">'Authorization'</span>: <span class="st">'Bearer '</span> <span class="op">+</span> token}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="buat-fungsi-getaudiofeatures" class="level3">
<h3 class="anchored" data-anchor-id="buat-fungsi-getaudiofeatures">Buat fungsi getAudioFeatures()</h3>
<p>Fungsi ini berguna untuk mengambil data karakteristik lagu. Fungsi ini mengambil token dan ID track (sebuah lagu).<br>
Token didapatkan dari pemanggilan fungsi getToken() dan getAuthHeader(). ID track didapatkan dari list lagu yang diambil oleh fungsi getPlaylistItems(). Data karakteristik lagu yang dihasilkan oleh fungsi ini akan disimpan di variabel dataset2.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">## pengambilan audio features dari track (lagu)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getAudioFeatures(token, trackId):</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># endpoint untuk akses playlist</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="ss">f'https://api.spotify.com/v1/audio-features/</span><span class="sc">{</span>trackId<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil token untuk otorisasi, gunakan sebagai header</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    headers <span class="op">=</span> getAuthHeader(token)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> get(url, headers<span class="op">=</span>headers)  <span class="co"># kirim request GET ke spotify</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    json_result <span class="op">=</span> json.loads(result.content)  <span class="co"># parse response ke json</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil data yang diperlukan dari response</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    audio_features_temp <span class="op">=</span> [</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'danceability'</span>],</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'energy'</span>],</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'key'</span>],</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'loudness'</span>],</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'mode'</span>],</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'speechiness'</span>],</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'acousticness'</span>],</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'instrumentalness'</span>],</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'liveness'</span>],</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'valence'</span>],</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        json_result[<span class="st">'tempo'</span>],</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    dataset2.append(audio_features_temp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="buat-fungsi-getplaylistitems" class="level3">
<h3 class="anchored" data-anchor-id="buat-fungsi-getplaylistitems">Buat fungsi getPlaylistItems()</h3>
<p>Fungsi ini berguna untuk mengambil lagu-lagu yang ada di playlist. Fungsi ini mengambil token dan playlistID sebagai parameter nya. Token didapatkan dari pemanggilan fungsi getToken() dan getAuthHeader(). playlistID adalah variabel yang berisi URL playlist spotify yang nantinya diisi oleh user. Untuk mengambil data dari spotify web API, kita harus menginput URL yang benar, disertai parameter (limit, market, fields) yang dibutuhkan. Semua variabel, ditambah header akan digabungkan dan membuat request ke web API</p>
<pre><code>def getPlaylistItems(token, playlistId):
    # endpoint untuk akses playlist
    url = f'https://api.spotify.com/v1/playlists/{playlistId}/tracks'
    limit = '&amp;limit=100'  # batas maksimal track yang diambil
    market = '?market=ID'  # negara yang tempat aplikasi diakses
    # format data dari track yang diambil
    fields = '&amp;fields=items%28track%28id%2Cname%2Cartists%2Cpopularity%2C+duration_ms%2C+album%28release_date%29%29%29'
    url = url+market+fields+limit  # gabungkan semua parameter
    # ambil token untuk otorisasi, gunakan sebagai header
    headers = getAuthHeader(token)
    result = get(url, headers=headers)  # kirim request GET ke spotify
    json_result = json.loads(result.content)  # parse response ke json
    # print(json_result)</code></pre>
<p>Masih di fungsi yang sama, Hasil request kita yang disebut dengan response, akan ditampung di variabel json_result. Namun kita hanya mengambil beberapa fitur saja. Selanjutnya fitur-fitur tersebut kita masukkan ke variabel dataset.</p>
<pre><code>    # ambil data yang diperlukan dari response
    for i in range(len(json_result['items'])):
        playlist_items_temp = []
        playlist_items_temp.append(json_result['items'][i]['track']['id'])
        playlist_items_temp.append(
            json_result['items'][i]['track']['name'].encode('utf-8'))
        playlist_items_temp.append(
            json_result['items'][i]['track']['artists'][0]['name'].encode('utf-8'))
        playlist_items_temp.append(
            json_result['items'][i]['track']['popularity'])
        playlist_items_temp.append(
            json_result['items'][i]['track']['duration_ms'])
        playlist_items_temp.append(
            int(json_result['items'][i]['track']['album']['release_date'][0:4]))
        dataset.append(playlist_items_temp)</code></pre>
<p>Variabel dataset tadi berisikan lagu-lagu yang ada di dalam sebuah playlist. Sekarang kita akan ambil karakteristik lagu-lagu tersebut. Untuk mengambil lagu menggunakan fungsi getAudioFeatures() kita membutukan track ID dan token. Jadi, kita akan membuat sebuah for loop di dalam dataset, mengambil trackID nya saja (menggunakan array index 0), lalu kita panggil fungsi getAudioFeatures() dan sematkan trackID dan token sebagai parameternya.</p>
<pre><code>    for i in range(len(dataset)):
        getAudioFeatures(token, dataset[i][0])</code></pre>
<p>Hasil dari fungsi getPlaylistItems() disimpan di variabel dataset. Hasil dari fungsi getAudioFeatures() disimpan di variabel dataset2. Selanjutnya, kita akan menggabungkan isi dari kedua variabel kedalam variabel dataset3, lalu meng-export nya menjadi file .csv</p>
<pre><code>
    # gabungkan dataset dan dataset2
    for i in range(len(dataset)):
        dataset3.append(dataset[i]+dataset2[i])

    print(dataset3)
    # convert dataset3 into csv
    with open('dataset.csv', 'w', newline='') as file:
        writer = csv.writer(file)
        writer.writerow(["id", "name", "artist", "popularity", "duration_ms", "year", "danceability", "energy", "key", "loudness", "mode",
                         "speechiness", "acousticness", "instrumentalness", "liveness", "valence", "tempo"])
        writer.writerows(dataset3)</code></pre>
<p>Untuk langkah terakhit, tulis coding dibawah untuk menjalankan semua fungsi dan menghasilkan dataset.csv</p>
<p><code>token = getToken() print('access token : '+token) getPlaylistItems(token, playlistId)</code></p>
<p>Jika kita gabungkan semua coding, maka coding akan menjadi seperti yang dibawah :</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pengambilan track (lagu) dari playlist</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getPlaylistItems(token, playlistId):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># endpoint untuk akses playlist</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="ss">f'https://api.spotify.com/v1/playlists/</span><span class="sc">{</span>playlistId<span class="sc">}</span><span class="ss">/tracks'</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    limit <span class="op">=</span> <span class="st">'&amp;limit=100'</span>  <span class="co"># batas maksimal track yang diambil</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    market <span class="op">=</span> <span class="st">'?market=ID'</span>  <span class="co"># negara yang tempat aplikasi diakses</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># format data dari track yang diambil</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    fields <span class="op">=</span> <span class="st">'&amp;fields=items%28track</span><span class="sc">%28i</span><span class="st">d%2Cname%2Cartists%2Cpopularity%2C+duration_ms%2C+album</span><span class="sc">%28r</span><span class="st">elease_date</span><span class="sc">%29%</span><span class="st">29%29'</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> url<span class="op">+</span>market<span class="op">+</span>fields<span class="op">+</span>limit  <span class="co"># gabungkan semua parameter</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil token untuk otorisasi, gunakan sebagai header</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    headers <span class="op">=</span> getAuthHeader(token)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> get(url, headers<span class="op">=</span>headers)  <span class="co"># kirim request GET ke spotify</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    json_result <span class="op">=</span> json.loads(result.content)  <span class="co"># parse response ke json</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(json_result)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil data yang diperlukan dari response</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(json_result[<span class="st">'items'</span>])):</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp <span class="op">=</span> []</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'id'</span>])</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>            json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'name'</span>].encode(<span class="st">'utf-8'</span>))</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>            json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'artists'</span>][<span class="dv">0</span>][<span class="st">'name'</span>].encode(<span class="st">'utf-8'</span>))</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>            json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'popularity'</span>])</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>            json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'duration_ms'</span>])</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        playlist_items_temp.append(</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>            <span class="bu">int</span>(json_result[<span class="st">'items'</span>][i][<span class="st">'track'</span>][<span class="st">'album'</span>][<span class="st">'release_date'</span>][<span class="dv">0</span>:<span class="dv">4</span>]))</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>        dataset.append(playlist_items_temp)</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ambil audio features dari semua track di dalam playlist</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(dataset)):</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>        getAudioFeatures(token, dataset[i][<span class="dv">0</span>])</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># gabungkan dataset dan dataset2</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(dataset)):</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>        dataset3.append(dataset[i]<span class="op">+</span>dataset2[i])</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(dataset3)</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert dataset3 into csv</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">'dataset.csv'</span>, <span class="st">'w'</span>, newline<span class="op">=</span><span class="st">''</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>        writer.writerow([<span class="st">"id"</span>, <span class="st">"name"</span>, <span class="st">"artist"</span>, <span class="st">"popularity"</span>, <span class="st">"duration_ms"</span>, <span class="st">"year"</span>, <span class="st">"danceability"</span>, <span class="st">"energy"</span>, <span class="st">"key"</span>, <span class="st">"loudness"</span>, <span class="st">"mode"</span>,</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"speechiness"</span>, <span class="st">"acousticness"</span>, <span class="st">"instrumentalness"</span>, <span class="st">"liveness"</span>, <span class="st">"valence"</span>, <span class="st">"tempo"</span>])</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>        writer.writerows(dataset3)</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>token <span class="op">=</span> getToken()</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'access token : '</span><span class="op">+</span>token)</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>getPlaylistItems(token, playlistId)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Jika anda masih bingung, bisa melihat gambar function flow dibawah ini :<br>
<img src="./8.functionflow.png" class="img-fluid" alt="Gambar8. Function Flow"></p>
</section>
<section id="data-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="data-preprocessing">Data Preprocessing</h3>
<p>Spotify web API terkenal dengan format dan prosedur API yang sangat tangguh, sehingga bug atau kesalahan dataset jarang ditemui. Namun kita tetap harus mengecek dataset kita.</p>
<section id="data-understanding" class="level4">
<h4 class="anchored" data-anchor-id="data-understanding">Data Understanding</h4>
<p>Sebagai seorang data scientist, kita perlu memahami dataset kita secara sepenuhnya. Berikut adalah penjelasan singkat dari beberapa fitur di dalam dataset yang akan kita gunakan. Untuk deskripsi sepenuhnya, bisa mengunjungi https://developer.spotify.com/documentation/web-api/reference/get-several-audio-features.</p>
<ul>
<li>Acousticness, Tingkat intensitas akustik di dalam lagu tersebut. 0.0 = Lagu tersebut tidak akustik, 1.0 = Lagu tersebut sangat akustik.<br>
</li>
<li>Loudness, Kekuatan suara keseluruhan dari sebuah lagu dalam desibel (dB). Nilai kekuatan suara dihitung rata-rata sepanjang seluruh lagu dan bermanfaat untuk membandingkan kekuatan suara relatif antara lagu-lagu. Kekuatan suara adalah kualitas dari suara yang merupakan korelasi psikologis utama dari kekuatan fisik (amplitudo). Nilai-nilai biasanya berkisar antara -60 hingga 0 dB.<br>
</li>
<li>Tempo, Rata rata kecepatan atau tempo dari sebuah lagu, diukur menggunakan beats (ketukan) per minute (BPM).</li>
</ul>
</section>
<section id="muat-data" class="level4">
<h4 class="anchored" data-anchor-id="muat-data">Muat Data</h4>
<p>Ketika coding pengambilan dataset dijalankan, sebuah file csv bernama dataset.csv akan muncul. File ini berisi dataset yang akan kita olah. Muat dataset menggunakan pandas dataframe dan check apakah dataset sudah benar.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> KMeans</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> PCA</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">## muat dataset</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">'dataset.csv'</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="decode---encode-ke-base64" class="level4">
<h4 class="anchored" data-anchor-id="decode---encode-ke-base64">Decode - Encode ke base64</h4>
<p>Dataset harus di encode-decode agar semua karakter ter-standarisasi dan file bisa dibaca dan diproses, bebas dari korupsi data. Karena data yang diambil dari spotify web API di encode menggunakan bas64, maka kita akan men-decode data tersebut menggunakan algoritma yang sama.<br>
Namun ketika di decode, muncul efek samping seperti penambahan (‘b) di depan data dan (’) dibelakang data.<br>
Kita akan menghapus efek samping tersebut menggunakan teknik string slicing.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Hapus karakter yang tidak perlu pada kolom artist dan name</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'artist'</span>] <span class="op">=</span> data[<span class="st">'artist'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'name'</span>] <span class="op">=</span> data[<span class="st">'name'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="cek-nilai-kosong" class="level4">
<h4 class="anchored" data-anchor-id="cek-nilai-kosong">Cek Nilai Kosong</h4>
<p>Sebagai efek samping dari encode-decode, terkadang kolom nama kosong. Maka kita harus menemukan data tersebut dan menghapusnya, agar algoritma dapat memproses data yang benar.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">##delete empty string in name column</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> data[data[<span class="st">'name'</span>] <span class="op">!=</span> <span class="st">''</span>]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">##reset index</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> data.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="feature-selection" class="level4">
<h4 class="anchored" data-anchor-id="feature-selection">Feature Selection</h4>
<p>Tujuan utama kita adalah untuk melakukan clustering terhadap karakteristik lagu. Dalam dataset, ada beberapa fitur yang tidak mencerminkan karakteristik dari sebuah lagu, maka kita harus menghapus fitur-fitur tersebut.<br>
anda bisa melihat deskripsi dari fitur tersebut di section data understanding di slide sebelumnya.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">## drop name artist and year column</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> data.copy()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> data2.drop([<span class="st">'artist'</span>, <span class="st">'name'</span>, <span class="st">'year'</span>, <span class="st">'popularity'</span>, <span class="st">'key'</span>,<span class="st">'duration_ms'</span>, <span class="st">'mode'</span>, <span class="st">'id'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>data2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="normalisasi-minmax" class="level4">
<h4 class="anchored" data-anchor-id="normalisasi-minmax">Normalisasi MinMax</h4>
<p>beberapa fitur mempunyai batasan nilai yang berbeda-beda dan jaraknya cukup jauh. sebagai contoh, di fitur loudness, batasan nilai adalah -60 sampai -3, sedangkan di variabel instrumentalness, batasan nilai adalah 0 sampai 3.490000e-01. Untuk data min max selengkapnya bisa dicek di code dibawah.<br>
nilai spread yang cukup besar ini dapat mempengaruhi hasil akhir clusterisasi, maka kita harus melakukan proses standarisasi agar semua fitur mempunyai batasan yang sama, yaitu 0 sampai 1</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> preprocessing</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">## normalize all data to 0 and 1</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> data2.values <span class="co">##returns a numpy array</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>min_max_scaler <span class="op">=</span> preprocessing.MinMaxScaler()</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>x_scaled <span class="op">=</span> min_max_scaler.fit_transform(x)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> pd.DataFrame(x_scaled)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">## convert to dataframe</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>data2.columns <span class="op">=</span> [<span class="st">'acousticness'</span>,<span class="st">'danceability'</span>,<span class="st">'energy'</span>,<span class="st">'instrumentalness'</span>,<span class="st">'loudness'</span>, <span class="st">'liveness'</span>, <span class="st">'speechiness'</span>, <span class="st">'tempo'</span>,<span class="st">'valence'</span>]</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">## data2.head()</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>data2.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dimensionality-reduction-using-principal-component-analysis-pca" class="level4">
<h4 class="anchored" data-anchor-id="dimensionality-reduction-using-principal-component-analysis-pca">Dimensionality Reduction using Principal Component Analysis (PCA)</h4>
<p>Setelah kita menghapus fitur yang tidak terpakai, kita masih mempunyai 9 fitur. Kita tidak dapat melakukan proses clustering dengan 9 fitur, karena proses clustering hanya bisa dilakukan dengan maksimal 2 fitur. Oleh karena itu diperlukan metode dimensionality reduction dengan Principal Component Analysis untuk mengkondensasi 9 fitur menjadi 2 fitur. Nilai intrinsik yang ada di 9 fitur tidak akan hilang, nilai tersebut akan direpresentasikan ke bentuk yang lebih kecil, menjadi 2 fitur.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Lakukan PCA untuk mengurangi jumlah fitur menjadi 2 fitur saja</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>pca.fit(data2)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>pca_data <span class="op">=</span> pca.transform(data2)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">## buat dataframe dari hasil pca</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>pca_df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>pca_data, columns<span class="op">=</span>[<span class="st">'x'</span>, <span class="st">'y'</span>])</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>pca_df.head()</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">## plot pca_df using plotly</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(pca_df, x<span class="op">=</span><span class="st">'x'</span>, y<span class="op">=</span><span class="st">'y'</span>, title<span class="op">=</span><span class="st">'PCA'</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="clustering-menggunakan-k-means" class="level2">
<h2 class="anchored" data-anchor-id="clustering-menggunakan-k-means">Clustering Menggunakan K-Means</h2>
<p>Clustering adalah proses pengelompokan data atau objek-objek serupa menjadi kelompok-kelompok yang lebih homogen berdasarkan kesamaan fitur atau karakteristik tertentu.<br>
Algoritma k-means adalah metode clustering yang mengelompokkan data menjadi beberapa kelompok berdasarkan jaraknya ke pusat kelompok yang ditentukan secara iteratif.</p>
<p>Dataset akan kita ubah bentuknya menjadi list menggunakan fungsi zip.<br>
Lalu kita aplikasikan algoritma K-Means menggunakan parameter n-init=10 dan max_iter=1000. N-init berfungsi untuk menambah konsistensi hasil dan max_iter=1000 untuk menambah akurasi clustering.<br>
Lalu kita buat graf scatter plot menggunakan library plotly-express</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">## rubah bentuk data ke list </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> <span class="bu">list</span>(<span class="bu">zip</span>(pca_df[<span class="st">'x'</span>], pca_df[<span class="st">'y'</span>]))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">## fit kmeans model</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>kmeans <span class="op">=</span> KMeans(n_init<span class="op">=</span><span class="dv">10</span>, max_iter<span class="op">=</span><span class="dv">1000</span>).fit(data2)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">## make scatter plot using plotly</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(pca_df, x<span class="op">=</span><span class="st">'x'</span>, y<span class="op">=</span><span class="st">'y'</span>, color<span class="op">=</span>kmeans.labels_, color_continuous_scale<span class="op">=</span><span class="st">'rainbow'</span>, hover_data<span class="op">=</span>[data.artist, data.name])</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="deploy-ke-streamlit" class="level2">
<h2 class="anchored" data-anchor-id="deploy-ke-streamlit">Deploy ke Streamlit</h2>
<p>Streamlit adalah framework open-source untuk mengembangkan aplikasi web interaktif dengan menggunakan bahasa pemrograman Python.<br>
Tujuannya adalah menyederhanakan proses pembuatan aplikasi web dengan memungkinkan pengembang untuk membuat aplikasi dengan mudah menggunakan kode Python yang sederhana dan familiar.</p>
<section id="buat-file-bernama-streamlit_app.py" class="level3">
<h3 class="anchored" data-anchor-id="buat-file-bernama-streamlit_app.py">Buat file bernama streamlit_app.py</h3>
<p>Langkah pertama adalah membuat sebuah file baru bernama streamlit_app.py. Kita akan masukkan semua koding yang telah kita buat sebelumnya ke dalam satu file ini.</p>
<p>Kita telah membahas proses pengambilan dataset, dan telah dijelaskan bahwa kita harus membuat beberapa fungsi seperti getToken(), getPlaylistItems(). Masukkan semua fungsi-fungsi tersebut ke dalam file streamlit_app.py.</p>
<p>Selain itu, pada bab data preprocessing, terdapat banyak potongan code untuk pemrosesan data. Masukkan semua potongan code tersebut ke dalam sebuah function bernama dataProcessing().</p>
<p>Akhirnya, berikut fungsi-fungsi yang ada di dalam streamlit_app.py:<br>
- <strong>getToken()</strong>, untuk mengambil token<br>
- <strong>getAuthHeader()</strong>, untuk mengisi header request dengan token yang didapat<br>
- <strong>getAudioFeatures()</strong>, untuk mendapatkan data karakteristik lagu<br>
- <strong>getPlaylistItems()</strong>, untuk mengambil lagu-lagu yang ada di dalam playlist<br>
- <strong>dataProcessing()</strong>, untuk memproses dataset dan menghasilkan clustering</p>
</section>
<section id="tambahkan-fungsi-dataprocessing" class="level3">
<h3 class="anchored" data-anchor-id="tambahkan-fungsi-dataprocessing">Tambahkan fungsi dataProcessing()</h3>
<p>Tambahkan <code>dataProcessing()</code> (pemanggilan function dataProcessing()) di bagian paling akhir function getAudioFeatures(). Gunanya untuk melanjutkan pemrosesan data secara otomatis.</p>
<p>Selain itu, fungsi ini berisi beberapa fungsi-fungsi khusus streamlit yang berguna untuk menampilkan grafik dan hasil dari coding.<br>
Berikut beberapa contoh fungsi-fungsi streamlit:<br>
- <code>st.write()</code>, untuk menulis teks atau paragraph. Masukkan teks ke dalam parameter fungsi untuk menampilkannya. Anda dapat menggunakan sintaks markdown (seperti # untuk header, dan ** untuk bold) untuk memanipulasi format teks.<br>
- <code>st.plotly_chart()</code>, untuk menampilkan grafik menggunakan library plotly. Masukkan variable grafik (fig) ke parameter fungsi untuk meggunakannya.<br>
- <code>st.text_input()</code>, untuk mendapatkan input yang dimasukkan ke text box oleh user. Masukkan teks ke dalam parameter fungsi untuk memberi label dari text box. Hasil input dari user akan dimasukkan ke sebuah variabel yang dipakai oleh fungsi.<br>
- <code>st.button()</code>, untuk membuat sebuah tombol. Gunakan fungsi if untuk menjalankan sesuatu jika tombol ditekan. Masukkan teks ke dalam parameter fungsi untuk memberi label dari button.</p>
<p>Untuk coding dari fungsi dataProcessing() dan fungsi driver streamlit bisa di simak dibawah ini :</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> dataProcessing():</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> pd.read_csv(<span class="st">'dataset.csv'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    data</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"## Preprocessing Result"</span>)  <span class="co"># streamlit widget</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> data[[<span class="st">'artist'</span>, <span class="st">'name'</span>, <span class="st">'year'</span>, <span class="st">'popularity'</span>, <span class="st">'key'</span>, <span class="st">'mode'</span>, <span class="st">'duration_ms'</span>, <span class="st">'acousticness'</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">'danceability'</span>, <span class="st">'energy'</span>, <span class="st">'instrumentalness'</span>, <span class="st">'loudness'</span>, <span class="st">'liveness'</span>, <span class="st">'speechiness'</span>, <span class="st">'tempo'</span>, <span class="st">'valence'</span>]]</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> data.drop([<span class="st">'mode'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    data[<span class="st">'artist'</span>] <span class="op">=</span> data[<span class="st">'artist'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    data[<span class="st">'name'</span>] <span class="op">=</span> data[<span class="st">'name'</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">str</span>(x)[<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"### Data to be deleted:"</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    data[data[<span class="st">'name'</span>] <span class="op">==</span> <span class="st">''</span>]</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> data[data[<span class="st">'name'</span>] <span class="op">!=</span> <span class="st">''</span>]</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"## Normalization Result"</span>)  <span class="co"># streamlit widget</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    data2 <span class="op">=</span> data.copy()</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    data2 <span class="op">=</span> data2.drop(</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>        [<span class="st">'artist'</span>, <span class="st">'name'</span>, <span class="st">'year'</span>, <span class="st">'popularity'</span>, <span class="st">'key'</span>, <span class="st">'duration_ms'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> data2.values</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    min_max_scaler <span class="op">=</span> preprocessing.MinMaxScaler()</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    x_scaled <span class="op">=</span> min_max_scaler.fit_transform(x)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    data2 <span class="op">=</span> pd.DataFrame(x_scaled)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    data2.columns <span class="op">=</span> [<span class="st">'acousticness'</span>, <span class="st">'danceability'</span>, <span class="st">'energy'</span>, <span class="st">'instrumentalness'</span>,</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'loudness'</span>, <span class="st">'liveness'</span>, <span class="st">'speechiness'</span>, <span class="st">'tempo'</span>, <span class="st">'valence'</span>]</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    data2</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"## Dimensionality Reduction with PCA"</span>)  <span class="co"># streamlit widget</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    pca.fit(data2)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    pca_data <span class="op">=</span> pca.transform(data2)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    pca_df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>pca_data, columns<span class="op">=</span>[<span class="st">'x'</span>, <span class="st">'y'</span>])</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> px.scatter(pca_df, x<span class="op">=</span><span class="st">'x'</span>, y<span class="op">=</span><span class="st">'y'</span>, title<span class="op">=</span><span class="st">'PCA'</span>)</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>    st.plotly_chart(fig)  <span class="co"># output plotly chart using streamlit</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"## Clustering with K-Means"</span>)  <span class="co"># streamlit widget</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>    data2 <span class="op">=</span> <span class="bu">list</span>(<span class="bu">zip</span>(pca_df[<span class="st">'x'</span>], pca_df[<span class="st">'y'</span>]))</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_init<span class="op">=</span><span class="dv">10</span>, max_iter<span class="op">=</span><span class="dv">1000</span>).fit(data2)</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> px.scatter(pca_df, x<span class="op">=</span><span class="st">'x'</span>, y<span class="op">=</span><span class="st">'y'</span>, color<span class="op">=</span>kmeans.labels_,</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>                     color_continuous_scale<span class="op">=</span><span class="st">'rainbow'</span>, hover_data<span class="op">=</span>[data.artist, data.name])</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    st.plotly_chart(fig)  <span class="co"># output plotly chart using streamlit</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">"Enjoy!"</span>)</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="co"># streamlit widgets</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>st.write(<span class="st">"# Spotify Playlist Clustering"</span>)</span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>client_id <span class="op">=</span> st.text_input(<span class="st">"Enter Client ID"</span>)</span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>client_secret <span class="op">=</span> st.text_input(<span class="st">"Enter Client Secret"</span>)</span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>playlistId <span class="op">=</span> st.text_input(<span class="st">"Enter Playlist ID"</span>)</span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a><span class="co"># streamlit widgets</span></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> st.button(<span class="st">'Create Dataset!'</span>):</span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>    token <span class="op">=</span> getToken()</span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>    getPlaylistItems(token, playlistId)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="buat-file-requirements.txt" class="level3">
<h3 class="anchored" data-anchor-id="buat-file-requirements.txt">Buat file requirements.txt</h3>
<p>Fungsi dari file ini adalah untuk memberitahu streamlit package apa yang harus di install sebelum di deploy.<br>
Isi file requirements.txt dengan</p>
<p><code>scikit-learn</code><br>
<code>plotly-express</code></p>
<p>Setelah itu, save file.</p>
</section>
<section id="upload-ke-github-repository" class="level3">
<h3 class="anchored" data-anchor-id="upload-ke-github-repository">Upload ke github repository</h3>
<p>Jika semua coding sudah selesai, maka kita harus meng-upload semua coding kita ke github.</p>
<ul>
<li>login ke github<br>
</li>
<li>di dashboard github, klik <code>New</code> untuk membuat repository baru<br>
</li>
<li>beri nama repositori, deskripsi, dan <strong>pastikan bahwa repository bersifat public</strong>. Lalu klik create repository<br>
</li>
<li>kembali ke code editor, masukkan file streamlit_app.py ke dalam folder<br>
</li>
<li>ketik <code>git init</code><br>
</li>
<li>ketik <code>git add .</code><br>
</li>
<li>ketik <code>git remote add origin https://github.com/[username]/[repository_name].git</code></li>
</ul>
</section>
<section id="buat-akun-streamlit" class="level3">
<h3 class="anchored" data-anchor-id="buat-akun-streamlit">Buat Akun Streamlit</h3>
<ul>
<li>Pergi ke streamlit.io<br>
</li>
<li>Buat akun/masuk menggunakan akun<br>
</li>
<li>Sangat direkomendasikan masuk menggunakan akun github</li>
</ul>
</section>
<section id="create-new-app-isi-form" class="level3">
<h3 class="anchored" data-anchor-id="create-new-app-isi-form">Create new app, isi form</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./19.stform.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Gambar19. Form create new app di streamlit</figcaption>
</figure>
</div>
<ul>
<li><strong>Repository</strong>, Nama repositori dari github yang akan di upload ke streamlit. format [user github]/[nama repository], contoh : <code>rif42/spotifyclustering</code><br>
</li>
<li><strong>Branch</strong>, Branch atau cabang dari repositori yang akan digunakan. Secara default akan diisi master<br>
</li>
<li><strong>Main File Path</strong>, Letak file yang akan dijadikan host dari aplikasi streamlit. Pastikan file sudah masuk didalam directory dan repository. Pastikan juga nama dari file sudah benar, sesuai dengan yang ada di repository.<br>
</li>
<li><strong>App URL</strong>, domain atau URL yang akan digunakan untuk mengakses aplikasi yang sudah di deploy.</li>
</ul>
<p>Klik create app dan tunggu sampai streamlit selesai melakukan proses deploy</p>
</section>
</section>
<section id="kesimpulan" class="level2">
<h2 class="anchored" data-anchor-id="kesimpulan">Kesimpulan</h2>
<p>Untuk project machine learning clustering ini, kita menggunakan dataset lagu yang diambil dari spotify.</p>
<p>Untuk melakukan proses pengambilan lagu, kita membutuhkan akses API dari spotify. Pertama kita harus mendaftar sebagai spotify developer di web resmi spotify. Lalu kita mengambil sebuah token menggunakan kredensial yang kita dapat dari akun developer kita. Sebuah token memungkinkan kita untuk mengambil data dari spotify web API secara langsung. user menginput url playlist dan aplikasi akan mengambil semua lagu didalam playlist tersebut dan membuat dataset secara otomatis.</p>
<p>Dataset yang dihasilkan sudah cukup solid karena spotify web API memang dikenal mempunyai kualitas tinggi. Namun kita tetap melakukan pengecekan konsistensi data. Ketika data diambil dari web, beberapa lagu/artist mempunyai karakter yang tidak dapat ditampilkan seperti huruf kanji, maka kita harus encode-decode karakter tersebut ke standar utf-8. Namun terkadang proses dari encode-decode menghasilkan sebuah string kosong. Walaupun fitur yang lain tidak kosong, data ini tidak bisa kita identifikasi, jadi kita akan hapus data ini.</p>
<p>Setelah di preproses, kita akan melakukan proses dimensionality reduction menggunakan principal component analysis (PCA). Proses clustering menggunakan scatter plot mengharuskan data mempunyai 2 fitur. Tujuan dari proses PCA adalah mengurangi jumlah fitur dari 9 menjadi 2 tanpa mengurangi makna yang ada didalam dataset.</p>
<p>Kita melakukan clustering dataset menggunakan algoritma K-Means dengan titik cluster yang diatur secara otomatis. Adapun parameter yang kita masukkan ke algoritma yaitu <strong>n_init=10</strong> untuk menambah konsistensi hasil dan <strong>max_iter=1000</strong> untuk menambah akurasi clustering.</p>
<p>Hasilnya dataset terbagi menjadi 7 buah cluster (secara otomatis), dan masing masing lagu di dalam cluster mempunyai keunikan tersendiri. Keunikan tersebut dapat direpresentasikan dengan tempo lagu, jenis melodi, jenis instrumen, overall ‘vibe’ dari lagu, dan lain lain. Jumlah cluster dapat diatur menggunakan parameter <strong>n_cluster</strong>.</p>
<p>Untuk melakukan proses deploy, pertama kita buat github repository dulu. Isi github repository dengan file python (file py, bukan ipynb) yang akan kita gunakan untuk proses deploy. File python ini berisi fungsi-2fung</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./project_regresi.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Studi Kasus 2</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>