<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Kursus Flutter - 7&nbsp; Akses Data melalu API</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./8_integrasi_baas.html" rel="next">
<link href="./6_akses_data_lokal.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./konsep.html">Konsep</a></li><li class="breadcrumb-item"><a href="./7_akses_data_api.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Akses Data melalu API</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Kursus Flutter</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Pengantar</strong></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./konsep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Konsep</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_intro_flutter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Pengenalan Flutter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_dasar_dart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Dasar Pemrograman Dart</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_user_interface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Antarmuka Pengguna</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_routing_navigasi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Bekerja dengan Banyak Halaman</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_pengujian_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Pengujian dan Debugging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_akses_data_lokal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Akses Data Lokal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_akses_data_api.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Akses Data melalu API</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_integrasi_baas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Integrasi dengan BAaS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_layanan_berbasis_lokasi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Layanan Berbasis Lokasi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_pengamanan_aplikasi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Pengamanan Aplikasi</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./studi_kasus_dan_proyek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Studi Kasus dan Proyek</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studi_kasus_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Studi Kasus 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studi_kasus_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Studi Kasus 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studi_kasus_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Studi Kasus 3</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studi_kasus_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Studi Kasus 4</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./studi_kasus_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Studi Kasus 5</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./proyek_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Proyek Kalkulator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./proyek_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Proyek 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./proyek_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Proyek 3</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>References</strong></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#konsep-dasar-rest-api" id="toc-konsep-dasar-rest-api" class="nav-link active" data-scroll-target="#konsep-dasar-rest-api"><span class="header-section-number">7.1</span> Konsep Dasar REST API</a></li>
  <li><a href="#menggunakan-package-http" id="toc-menggunakan-package-http" class="nav-link" data-scroll-target="#menggunakan-package-http"><span class="header-section-number">7.2</span> Menggunakan Package HTTP</a></li>
  <li><a href="#mengambil-data-dari-rest-api" id="toc-mengambil-data-dari-rest-api" class="nav-link" data-scroll-target="#mengambil-data-dari-rest-api"><span class="header-section-number">7.3</span> Mengambil Data dari REST API</a></li>
  <li><a href="#menampilkan-data-pada-widget" id="toc-menampilkan-data-pada-widget" class="nav-link" data-scroll-target="#menampilkan-data-pada-widget"><span class="header-section-number">7.4</span> Menampilkan Data pada Widget</a></li>
  <li><a href="#menambah-data-ke-rest-api" id="toc-menambah-data-ke-rest-api" class="nav-link" data-scroll-target="#menambah-data-ke-rest-api"><span class="header-section-number">7.5</span> Menambah Data ke Rest API</a>
  <ul class="collapse">
  <li><a href="#coba-api-dengan-postman" id="toc-coba-api-dengan-postman" class="nav-link" data-scroll-target="#coba-api-dengan-postman"><span class="header-section-number">7.5.1</span> Coba API dengan Postman</a></li>
  <li><a href="#penggunaan-di-flutter" id="toc-penggunaan-di-flutter" class="nav-link" data-scroll-target="#penggunaan-di-flutter"><span class="header-section-number">7.5.2</span> Penggunaan di Flutter</a></li>
  </ul></li>
  <li><a href="#update-data-rest-api" id="toc-update-data-rest-api" class="nav-link" data-scroll-target="#update-data-rest-api"><span class="header-section-number">7.6</span> Update Data Rest API</a>
  <ul class="collapse">
  <li><a href="#coba-api-dengan-postman-1" id="toc-coba-api-dengan-postman-1" class="nav-link" data-scroll-target="#coba-api-dengan-postman-1"><span class="header-section-number">7.6.1</span> Coba API dengan Postman</a></li>
  <li><a href="#penggunaan-di-flutter-1" id="toc-penggunaan-di-flutter-1" class="nav-link" data-scroll-target="#penggunaan-di-flutter-1"><span class="header-section-number">7.6.2</span> Penggunaan di Flutter</a></li>
  </ul></li>
  <li><a href="#delete-data-rest-api" id="toc-delete-data-rest-api" class="nav-link" data-scroll-target="#delete-data-rest-api"><span class="header-section-number">7.7</span> Delete Data Rest API</a>
  <ul class="collapse">
  <li><a href="#coba-api-dengan-postman-2" id="toc-coba-api-dengan-postman-2" class="nav-link" data-scroll-target="#coba-api-dengan-postman-2"><span class="header-section-number">7.7.1</span> Coba API dengan Postman</a></li>
  <li><a href="#penggunaan-di-flutter-2" id="toc-penggunaan-di-flutter-2" class="nav-link" data-scroll-target="#penggunaan-di-flutter-2"><span class="header-section-number">7.7.2</span> Penggunaan di Flutter</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Akses Data melalu API</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<!-- ---
title: "Akses Data Melalui API"
date: "2023-10-28"
categories: [REST, API, data, web service]
--- -->
<section id="konsep-dasar-rest-api" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="konsep-dasar-rest-api"><span class="header-section-number">7.1</span> Konsep Dasar REST API</h2>
<p>REST API adalah salah satu cara untuk mengakses data dari server. REST API menggunakan protokol HTTP untuk mengakses data. REST API menggunakan metode HTTP Request seperti GET, POST, PUT, DELETE.</p>
<p>Flutter menyediakan package <code>http</code> untuk menggunakan resource HTTP. <code>http</code> adalah library berbasis <code>Future</code> dan menggunakan fitur <code>await</code> dan <code>async</code>. <code>http</code> menyediakan banyak metode tingkat tinggi dan menyederhanakan pengembangan mobile application berbasis REST.</p>
<p>Beberapa method di package <code>http</code> yang sering digunakan</p>
<ul>
<li><p><code>get</code> : Digunakan untuk membuat permintaan HTTP GET ke URL yang ditentukan dan mengembalikan responsnya sebagai <code>Future&lt;Response&gt;</code>. <code>Response</code> adalah objek yang berisi respons dari server setelah membuat permintaan HTTP. Anda dapat menggunakan objek <code>Response</code> untuk mengakses data respons body, status code, header, dan lainnya.</p>
<p>Contoh penggunaan :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Future<span class="op">&lt;</span><span class="kw">void</span><span class="op">&gt;</span> <span class="fu">fetctData</span>() <span class="kw">async</span> {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> response <span class="op">=</span> <span class="cf">await</span> http<span class="op">.</span><span class="fu">get</span>(Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'url'</span>))<span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Response data: ${response.body}'</span>)<span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Request failed with status: ${response.statusCode}'</span>)<span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>post</code>: Digunakan untuk membuat permintaan HTTP POST ke URL yang ditentukan. Anda dapat mengirim data dalam bentuk body yang akan dikirim ke server. Dan juga akan mengembalikan respons sebagai <code>Future&lt;Response&gt;</code>. (Response yang sering di gunakan adalah status code, untuk mengetahui apakah berhasil atau gagal) Contoh penggunaan :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Future<span class="op">&lt;</span><span class="kw">void</span><span class="op">&gt;</span> <span class="fu">sendData</span>() <span class="kw">async</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> response <span class="op">=</span> <span class="cf">await</span> http<span class="op">.</span><span class="fu">post</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'url'</span>)<span class="op">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">body</span><span class="op">:</span> {<span class="st">'key1'</span><span class="op">:</span> <span class="st">'value1'</span><span class="op">,</span> <span class="st">'key2'</span><span class="op">:</span> <span class="st">'value2'</span>}<span class="op">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Response data: ${response.body}'</span>)<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Request failed with status: ${response.statusCode}'</span>)<span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>put</code>: Digunakan untuk membuat permintaan HTTP PUT ke URL yang ditentukan. Ini digunakan untuk memperbarui data di server dengan data yang diberikan dalam body. Dan juga akan mengembalikan respons sebagai <code>Future&lt;Response&gt;</code>.</p>
<p>Contoh penggunaan :</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Future<span class="op">&lt;</span><span class="kw">void</span><span class="op">&gt;</span> <span class="fu">updateData</span>() <span class="kw">async</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> response <span class="op">=</span> <span class="cf">await</span> http<span class="op">.</span><span class="fu">put</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'url'</span>)<span class="op">,</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">body</span><span class="op">:</span> {<span class="st">'key1'</span><span class="op">:</span> <span class="st">'new-value1'</span><span class="op">,</span> <span class="st">'key2'</span><span class="op">:</span> <span class="st">'new-value2'</span>}<span class="op">,</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Response data: ${response.body}'</span>)<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Request failed with status: ${response.statusCode}'</span>)<span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>patch</code> : Digunakan untuk membuat permintaan HTTP PATCH ke URL yang ditentukan. Ini digunakan untuk memperbarui data di server dengan data yang diberikan dalam body. Dan juga akan mengembalikan respons sebagai <code>Future&lt;Response&gt;</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Bedanya <code>patch</code> dengan <code>put</code> adalah kalau <code>put</code> mengubah data seluruhnya atau replace data, kalau <code>patch</code> untuk memperbarui atribut tertentu</li>
</ul>
</div>
</div>
<p>Contoh penggunaan :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Future<span class="op">&lt;</span><span class="kw">void</span><span class="op">&gt;</span> <span class="fu">partiallyUpdateData</span>() <span class="kw">async</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> response <span class="op">=</span> <span class="cf">await</span> http<span class="op">.</span><span class="fu">patch</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'url'</span>)<span class="op">,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">body</span><span class="op">:</span> {<span class="st">'key1'</span><span class="op">:</span> <span class="st">'new-value1'</span>}<span class="op">,</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Response data: ${response.body}'</span>)<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">'Request failed with status: ${response.statusCode}'</span>)<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>delete</code> : digunakan untuk membuat permintaan HTTP DELETE ke URL yang ditentukan. Ini digunakan untuk menghapus data dari server. Dan mengembalikan respons sebagai <code>Future&lt;Response&gt;</code>.</p>
<p>Contoh penggunaan :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Future<span class="op">&lt;</span><span class="kw">void</span><span class="op">&gt;</span> <span class="fu">deleteData</span>() <span class="kw">async</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> response <span class="op">=</span> <span class="cf">await</span> http<span class="op">.</span><span class="fu">delete</span>(Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'url'</span>))<span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="st">'Resource deleted successfully'</span>)<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="st">'Request failed with status: ${response.statusCode}'</span>)<span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Pada intinya, REST API mirip dengan jembatan yang menghubungkan aplikasi Anda ke server. Ini memberikan cara standar bagi aplikasi untuk berkomunikasi dan bertukar informasi melalui web. Komunikasi ini sering terjadi melalui HTTP (HyperText Transfer Protocol), yang berfungsi sebagai sarana transfer data. REST API ditentukan oleh serangkaian batasan yang menentukan struktur dan perilakunya, menjadikannya alat serbaguna untuk mengambil, mengirim, memperbarui, dan menghapus data.</p></li>
</ul>
</section>
<section id="menggunakan-package-http" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="menggunakan-package-http"><span class="header-section-number">7.2</span> Menggunakan Package HTTP</h2>
<p>Di Flutter untuk menggunakan fitur rest API perlu menggunakan package / dependency tambahan yaitu <code>http</code>. Dalam project flutter, di file <code>pubspec.yaml</code>, di scope dependencies ketik <code>http:</code> dan flutter akan otomatis merekomendasikan versi terakhir.</p>
<p>Jika tidak ada rekomendasi versi, save saja file <code>pubspec.yaml</code> dan jalankan perintah <code>flutter pub get</code> di terminal.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dependencies<span class="op">:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  flutter<span class="op">:</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    sdk<span class="op">:</span> flutter</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  http<span class="op">:</span> <span class="op">^</span>x<span class="op">.</span><span class="at">x</span><span class="op">.</span><span class="at">x</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Untuk import, aliaskan sebagai <code>http</code> agar mempermudah pemanggilan</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="vs">`import 'package:http/http.dart' as http;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="mengambil-data-dari-rest-api" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="mengambil-data-dari-rest-api"><span class="header-section-number">7.3</span> Mengambil Data dari REST API</h2>
<p>Untuk mengambil data (metode <code>GET</code>), kita harus import dulu dependency yang diperlukan</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:http/http.dart'</span> <span class="im">as</span> http<span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'dart:convert'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Penjelasan
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Disini library dart convert digunakan untuk mengubah atau decode data dari API yang berbentuk JSON ke dalam bentuk Map dan List.</li>
</ul>
</div>
</div>
<p>Contoh API kita ambil data dari reqres.in, kita pilih yang GET List Users.</p>
<p>Berikut URL API: <a href="https://reqres.in/api/users?page=2">https://reqres.in/api/users?page=2</a></p>
<p>Jika kita buka dengan postman akan mendapatkan response berikut: <img src="assets/7_api/postmanGet.png" class="img-fluid" alt="GET dengan Postman"></p>
<p>Bisa dilihat <code>status code</code> nya <code>200 OK</code> dan <code>body</code> dari response berupa JSON, dan data yang kita butuhkan berada di key “data” dengan bentuk List.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Penjelasan
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>Postman</code> adalah desktop aplikasi yang digunakan untuk pengujian API.
<ul>
<li>Postman bisa di download melalui link berikut . <a href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a></li>
</ul></li>
<li><code>body</code> : berisi data dari response</li>
<li><code>status code</code> : status code dari response
<ul>
<li>1xx (Informational): Kode status dalam kategori ini adalah respons awal yang mengindikasikan bahwa permintaan telah diterima, dan server sedang memprosesnya.</li>
<li>2xx (Successful): Kode status dalam kategori ini mengindikasikan bahwa permintaan telah berhasil diterima, dimengerti, dan diproses dengan baik.
<ul>
<li>200 OK: Request berhasil dan respons mengandung data yang diminta.</li>
<li>201 Created: Request terpenuhi, Resource baru berhasil dibuat.</li>
<li>204 No Content : Request berhasil tetapi tidak ada konten yang akan dikembalikan.</li>
</ul></li>
<li>3xx (Redirection): Kode status dalam kategori ini mengindikasikan bahwa klien harus mengambil tindakan tambahan untuk menyelesaikan permintaan.</li>
<li>4xx (Client Error): Kode status dalam kategori ini mengindikasikan kesalahan yang disebabkan oleh klien dalam permintaan.</li>
<li>5xx (Server Error): Kode status dalam kategori ini mengindikasikan kesalahan yang terjadi di server saat memproses permintaan.</li>
</ul></li>
</ul>
</div>
</div>
<p>Buatlah class model untuk menampung data api nanti sebagai list</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  int id<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> email<span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> firstName<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> lastName<span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> avatar<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Person</span>({</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    required <span class="kw">this</span><span class="op">.</span><span class="at">id</span><span class="op">,</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    required <span class="kw">this</span><span class="op">.</span><span class="at">email</span><span class="op">,</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    required <span class="kw">this</span><span class="op">.</span><span class="at">firstName</span><span class="op">,</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    required <span class="kw">this</span><span class="op">.</span><span class="at">lastName</span><span class="op">,</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    required <span class="kw">this</span><span class="op">.</span><span class="at">avatar</span><span class="op">,</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  factory Person<span class="op">.</span><span class="fu">fromMap</span>(<span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> dynamic<span class="op">&gt;</span> json) {</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">Person</span>(</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">id</span><span class="op">:</span> json[<span class="st">'id'</span>] <span class="im">as</span> int<span class="op">,</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">email</span><span class="op">:</span> json[<span class="st">'email'</span>]<span class="op">,</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">firstName</span><span class="op">:</span> json[<span class="st">'first_name'</span>]<span class="op">,</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>      <span class="dt">lastName</span><span class="op">:</span> json[<span class="st">'last_name'</span>]<span class="op">,</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">avatar</span><span class="op">:</span> json[<span class="st">'avatar'</span>]<span class="op">,</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Penjelasan
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>factory</code> adalah keyowrd dart untuk factory constructor, factory constructor digunakan untuk menerapkan constructor yang tidak selalu membuat instance baru dari class tapi dengan mengembalikkan instance dari cache.
<ul>
<li>Disini <code>factory</code> digunakan untuk mengubah data Map menjadi objek class Person.</li>
</ul></li>
</ul>
</div>
</div>
<p>Buatlah fungsi untuk fetch data dari API dengan class Future dengan tipe data List object dari class yang telah dibuat, ambil data dengan fungsi <code>http.get()</code> isi parameter dengan String URL API, namun harus di parse terlebih dahulu ke class <code>Uri</code>. Masukkan respondnya ke dalam variable <code>final</code>.</p>
<p>Response http memiliki banyak informasi, yang paling sering digunakan adalah body, dan status code.</p>
<p>Response body masih berbentuk String, kita dapat men-decode dengan jsonDecode. Karena data dari API reqres.in masih berbentuk <code>Map</code> belum <code>List</code>, maka decode dari response body di masukkan ke variable <code>Map&lt;String, dynamic&gt;</code>.</p>
<p>Baru kita masukkan data API ke dalam list, disini ambil data dari key “data” saja.</p>
<p>Lalu baru kita return kan dengan me-mapping <code>List&lt;dynamic&gt;</code> tadi ke List dari objek class yang kita buat.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>  Future<span class="op">&lt;</span>List<span class="op">&lt;</span>Person<span class="op">&gt;&gt;</span> <span class="fu">fetchData</span>() <span class="kw">async</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    final response <span class="op">=</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> http<span class="op">.</span><span class="fu">get</span>(Uri<span class="op">.</span><span class="fu">parse</span>(<span class="st">'https://reqres.in/api/users?page=2'</span>))<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (response<span class="op">.</span><span class="at">statusCode</span> <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> dynamic<span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">jsonDecode</span>(response<span class="op">.</span><span class="at">body</span>) <span class="im">as</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> dynamic<span class="op">&gt;;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      List<span class="op">&lt;</span>dynamic<span class="op">&gt;</span> dataPerson <span class="op">=</span> data[<span class="st">'data'</span>] <span class="im">as</span> List<span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> dataPerson<span class="op">.</span><span class="fu">map</span>((e) <span class="kw">=&gt;</span> Person<span class="op">.</span><span class="fu">fromMap</span>(e))<span class="op">.</span><span class="fu">toList</span>()<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="fu">Exception</span>(<span class="st">'Failed to load data'</span>)<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Di luar fungsi fetch data kita siapkan variable List juga dengan class Future untuk menampung data return dari fungsi fetchData.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a> late Future<span class="op">&lt;</span>List<span class="op">&lt;</span>Person<span class="op">&gt;&gt;</span> listPerson<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Penjelasan
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Kenali data dari api yang anda ambil, disini data dari reqres.in data nya berbentuk map, data utamanya berada di key “data”.</li>
<li><code>Future</code> dan <code>async</code> <code>await</code> adalah sebuah fitur yang digunakan untuk mengeksekusi sebuah kode secara asynchronous.</li>
<li><code>Response</code> / <code>http.Response</code> : adalah objek yang berisi respons dari server setelah membuat permintaan HTTP. Anda dapat menggunakan objek Response untuk mengakses body respons, status kode, header, dan lainnya.</li>
<li><code>jsonDecode</code> : digunakan untuk mengubah data dari API yang berbentuk JSON ke dalam bentuk Map dan List.</li>
</ul>
</div>
</div>
</section>
<section id="menampilkan-data-pada-widget" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="menampilkan-data-pada-widget"><span class="header-section-number">7.4</span> Menampilkan Data pada Widget</h2>
<p>Karena mengambil data dari API memerlukan waktu / loading, maka state widgetnya nya harus dinamis, yang umum adalah menggunakan <code>StatefulWidget</code>. Jika sebelumnya menggunakan <code>StatelessWidget</code>, dapat diubah dengan mudah, yaitu dengan klik kanan -&gt; refactor -&gt; convert to StatefulWidget.</p>
<p>Setelah menjadi StatefulWidget, dapat membuat fungsi untuk initial state, kita isi dengan meng-assign variable future list penampung dengan fungsi fetch data.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">void</span> <span class="fu">initState</span>() {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span><span class="op">.</span><span class="fu">initState</span>()<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    listPerson <span class="op">=</span> <span class="fu">fetchData</span>()<span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Untuk memanggil atau menampilkan data di widget, kita perlu widget <code>FutureBuilder</code>. FutureBuilder memerlukan properti yang wajib diisi yaitu <code>future</code> dan <code>builder</code></p>
<p><code>future</code> diisi dengan variable future list penampung datanya</p>
<p><code>builder</code> diisi dengan <code>context</code> dari <code>BuildContext</code> dan <code>snapshot</code>, <code>snapshot</code> adalah variable yang dialiaskan untuk data yang diambil dari future list penampung.</p>
<p>Lalu kita isi kondisi jika snapshot memiliki data, baru kita return dengan widget untuk tampilan.</p>
<p>Disini menggunakan ListView.builder, kita isi itemCount sesuai dengan jumlah data di snapshot, untuk item builder kita gunakan list tile.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FutureBuilder</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    future<span class="op">:</span> listPerson<span class="op">,</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    builder<span class="op">:</span> (context<span class="op">,</span> snapshot) {</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (snapshot<span class="op">.</span><span class="at">hasData</span>) {</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ListView<span class="op">.</span><span class="fu">builder</span>(</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">itemCount</span><span class="op">:</span> snapshot<span class="op">.</span><span class="at">data</span><span class="op">!.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">itemBuilder</span><span class="op">:</span> (context<span class="op">,</span> index) {</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="fu">ListTile</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>                <span class="dt">leading</span><span class="op">:</span> <span class="fu">CircleAvatar</span>(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">backgroundImage</span><span class="op">:</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">NetworkImage</span>(snapshot<span class="op">.</span><span class="at">data</span><span class="op">!</span>[index]<span class="op">.</span><span class="at">avatar</span>)<span class="op">,</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                )<span class="op">,</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                <span class="dt">title</span><span class="op">:</span> <span class="bu">Text</span>(</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'${snapshot.data![index].firstName} ${snapshot.data![index].lastName}'</span>)<span class="op">,</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                <span class="dt">subtitle</span><span class="op">:</span> <span class="bu">Text</span>(snapshot<span class="op">.</span><span class="at">data</span><span class="op">!</span>[index]<span class="op">.</span><span class="at">email</span>)<span class="op">,</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>                )<span class="op">;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>            })<span class="op">;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">const</span> <span class="fu">Center</span>(</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>            <span class="dt">child</span><span class="op">:</span> <span class="fu">CircularProgressIndicator</span>()<span class="op">,</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Penjelasan
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>ListView.builder
<ul>
<li><code>itemCount</code>: diisi dengan jumlah data di snapshot dengan keyword <code>length</code>,</li>
<li><code>itemBuilder</code>: diisi dengan widget yang akan di tampilkan, disini menggunakan <code>ListTile</code></li>
<li><code>ListTile</code> : memiliki beberapa properti yang dapat diisi sesuai dengan kebutuhan, diantaranya:
<ul>
<li><code>leading</code> : untuk menampilkan gambar/icon di sebelah kiri</li>
<li><code>title</code> : untuk menampilkan judul</li>
<li><code>subtitle</code> : untuk deskripsi</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilGet.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Hasil</figcaption>
</figure>
</div>
</section>
<section id="menambah-data-ke-rest-api" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="menambah-data-ke-rest-api"><span class="header-section-number">7.5</span> Menambah Data ke Rest API</h2>
<section id="coba-api-dengan-postman" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="coba-api-dengan-postman"><span class="header-section-number">7.5.1</span> Coba API dengan Postman</h3>
<p>Untuk Post kita gunakan API <a href="https://reqres.in/api/users">https://reqres.in/api/users</a></p>
<p>Coba dulu menggunakan postman</p>
<ol type="1">
<li>Pilih method <code>POST</code>,</li>
<li>Masukan urlnya</li>
<li>Pilih body lalu x-www-form-urlencoded</li>
<li>Isi key ‘first_name’ dan ‘email’ dengan value yang diinginkan</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanPost.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">POST dengan Postman</figcaption>
</figure>
</div>
<p>Bisa dilihat <code>status code</code> nya <code>201 Created</code> dan <code>body</code> dari response berupa JSON dengan data yang di kirimkan tadi.</p>
<p>API dari reqres ini hanya untuk testing, jadi data yang kita kirimkan tidak akan tersimpan di server, hanya akan memberi response yang sesuai.</p>
</section>
<section id="penggunaan-di-flutter" class="level3" data-number="7.5.2">
<h3 data-number="7.5.2" class="anchored" data-anchor-id="penggunaan-di-flutter"><span class="header-section-number">7.5.2</span> Penggunaan di Flutter</h3>
<p>Dalam Flutter bisa buat UI nya dulu dengan membuat 2 text field, button, dan text untuk menampilkan data dari API. Jangan lupa gunakan state widget yang dinamis, disini menggunakan <code>StatefulWidget</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'dart:convert'</span><span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:flutter/material.dart'</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:http/http.dart'</span> <span class="im">as</span> http<span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PostAPI <span class="kw">extends</span> StatefulWidget {</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> <span class="fu">PostAPI</span>({<span class="kw">super</span><span class="op">.</span><span class="at">key</span>})<span class="op">;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  State<span class="op">&lt;</span>PostAPI<span class="op">&gt;</span> <span class="fu">createState</span>() <span class="kw">=&gt;</span> <span class="fu">_PostAPIState</span>()<span class="op">;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> _PostAPIState <span class="kw">extends</span> State<span class="op">&lt;</span>PostAPI<span class="op">&gt;</span> {</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  TextEditingController controllerName <span class="op">=</span> <span class="fu">TextEditingController</span>()<span class="op">;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  TextEditingController controllerEmail <span class="op">=</span> <span class="fu">TextEditingController</span>()<span class="op">;</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> display <span class="op">=</span> <span class="st">"Belum ada data"</span><span class="op">;</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  Widget <span class="fu">build</span>(BuildContext context) {</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">MaterialApp</span>(</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">home</span><span class="op">:</span> <span class="fu">SafeArea</span>(</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">child</span><span class="op">:</span> <span class="fu">Scaffold</span>(</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>          <span class="dt">body</span><span class="op">:</span> <span class="fu">Container</span>(</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>            <span class="dt">padding</span><span class="op">:</span> <span class="kw">const</span> EdgeInsets<span class="op">.</span><span class="fu">all</span>(<span class="dv">20</span>)<span class="op">,</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>            <span class="dt">child</span><span class="op">:</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>                <span class="fu">Column</span>(<span class="dt">mainAxisAlignment</span><span class="op">:</span> MainAxisAlignment<span class="op">.</span><span class="at">center</span><span class="op">,</span> <span class="dt">children</span><span class="op">:</span> [</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>              <span class="fu">Container</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">padding</span><span class="op">:</span> <span class="kw">const</span> EdgeInsets<span class="op">.</span><span class="fu">all</span>(<span class="dv">20</span>)<span class="op">,</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">child</span><span class="op">:</span> <span class="bu">Text</span>(</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>                    display<span class="op">,</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">style</span><span class="op">:</span> <span class="fu">TextStyle</span>(<span class="dt">fontSize</span><span class="op">:</span> <span class="dv">16</span>)<span class="op">,</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>                  )<span class="op">,</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">decoration</span><span class="op">:</span> <span class="fu">BoxDecoration</span>(</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">border</span><span class="op">:</span> Border<span class="op">.</span><span class="fu">all</span>(</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">width</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>                    )<span class="op">,</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>                  ))<span class="op">,</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>              <span class="fu">SizedBox</span>(</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>                <span class="dt">height</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>              <span class="fu">TextField</span>(</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>                <span class="dt">controller</span><span class="op">:</span> controllerName<span class="op">,</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>                <span class="dt">keyboardType</span><span class="op">:</span> TextInputType<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>                <span class="dt">decoration</span><span class="op">:</span> <span class="kw">const</span> <span class="fu">InputDecoration</span>(</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">label</span><span class="op">:</span> <span class="bu">Text</span>(<span class="st">'Name'</span>)<span class="op">,</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>                )<span class="op">,</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>              <span class="fu">TextField</span>(</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>                <span class="dt">controller</span><span class="op">:</span> controllerEmail<span class="op">,</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>                <span class="dt">keyboardType</span><span class="op">:</span> TextInputType<span class="op">.</span><span class="at">emailAddress</span><span class="op">,</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>                <span class="dt">decoration</span><span class="op">:</span> <span class="kw">const</span> <span class="fu">InputDecoration</span>(</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">label</span><span class="op">:</span> <span class="bu">Text</span>(<span class="st">'Email'</span>)<span class="op">,</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>                )<span class="op">,</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>              <span class="fu">SizedBox</span>(</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>                <span class="dt">height</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ElevatedButton</span>(</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>                <span class="dt">child</span><span class="op">:</span> <span class="kw">const</span> <span class="bu">Text</span>(<span class="st">'Submit'</span>)<span class="op">,</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>                <span class="dt">onPressed</span><span class="op">:</span> () {}<span class="op">,</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>            ])<span class="op">,</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>          )<span class="op">,</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>        )<span class="op">,</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Buatlah fungsi untuk post data dari API dengan class Future dengan tipe data List object dari class yang telah dibuat, ambil data dengan fungsi <code>http.post()</code> isi parameter dengan url api dan body, body kita isi dengan Bentuk map dengan key ‘first_name’ dan ‘email’, valuenya kita ambil dari controller dari textfield. Masukkan respondnya ke dalam variable <code>final</code>.</p>
<p>Response body masih berbentuk String, kita dapat men-decode dengan jsonDecode. Lalu parse data sebagai <code>Map&lt;String,dynamic</code>.</p>
<p>Ganti state display dengan data yang diambil dari Map dengan fungsi <code>setState</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> postData() <span class="at">async</span> {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> response <span class="op">=</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">await</span> http<span class="op">.</span>post(Uri<span class="op">.</span>parse(<span class="st">'https://reqres.in/api/users'</span>)<span class="op">,</span> body<span class="op">:</span> {</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'first_name'</span><span class="op">:</span> controllerName<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'email'</span><span class="op">:</span> controllerEmail<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        jsonDecode(response<span class="op">.</span>body) <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>;</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    setState(() {</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>      display <span class="op">=</span> <span class="st">"Name : ${data['first_name']} </span><span class="sc">\n</span><span class="st"> Email : ${data['email']}"</span>;</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Dalam onPressed button submitnya isi dengan fungsi <code>postData()</code> yang telah dibuat tadi.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilPost1.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sebelum POST</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilPost2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Setelah POST</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="update-data-rest-api" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="update-data-rest-api"><span class="header-section-number">7.6</span> Update Data Rest API</h2>
<section id="coba-api-dengan-postman-1" class="level3" data-number="7.6.1">
<h3 data-number="7.6.1" class="anchored" data-anchor-id="coba-api-dengan-postman-1"><span class="header-section-number">7.6.1</span> Coba API dengan Postman</h3>
<p>Untuk Put kita gunakan API <a href="https://reqres.in/api/users/2">https://reqres.in/api/users/2</a></p>
<p>Coba dulu menggunakan postman</p>
<p>Coba get dulu untuk melihat data yang ada di API.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanGet2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">GET dengan Postman</figcaption>
</figure>
</div>
<p>Disini akan mengupdate data dari user dengan id 2, kita akan mengubah nama dan emailnya.</p>
<ol type="1">
<li>Pilih method <code>PUT</code>,</li>
<li>Masukan urlnya</li>
<li>Pilih body lalu x-www-form-urlencoded</li>
<li>Isi key ‘first_name’ dan ‘email’ dengan value yang diinginkan</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanPut.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">PUT dengan Postman</figcaption>
</figure>
</div>
<p>Bisa dilihat <code>status code</code> nya <code>200 OK</code> dan <code>body</code> dari response berupa JSON dengan data yang di kirimkan tadi.</p>
<p>API dari reqres ini hanya untuk testing, jadi data yang kita kirimkan tidak akan tersimpan di server, hanya akan memberi response yang sesuai.</p>
<p>Dengan menggunakan metode PATCH juga akan menghasilkan response yang sama.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanPatch.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">PATCH dengan Postman</figcaption>
</figure>
</div>
</section>
<section id="penggunaan-di-flutter-1" class="level3" data-number="7.6.2">
<h3 data-number="7.6.2" class="anchored" data-anchor-id="penggunaan-di-flutter-1"><span class="header-section-number">7.6.2</span> Penggunaan di Flutter</h3>
<p>Dalam Flutter bisa buat UI nya sama dengan di method post.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'dart:convert'</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:flutter/material.dart'</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:http/http.dart'</span> <span class="im">as</span> http<span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> PostAPI <span class="kw">extends</span> StatefulWidget {</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> <span class="fu">PostAPI</span>({<span class="kw">super</span><span class="op">.</span><span class="at">key</span>})<span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  State<span class="op">&lt;</span>PostAPI<span class="op">&gt;</span> <span class="fu">createState</span>() <span class="kw">=&gt;</span> <span class="fu">_PostAPIState</span>()<span class="op">;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> _PostAPIState <span class="kw">extends</span> State<span class="op">&lt;</span>PostAPI<span class="op">&gt;</span> {</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  TextEditingController controllerName <span class="op">=</span> <span class="fu">TextEditingController</span>()<span class="op">;</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  TextEditingController controllerEmail <span class="op">=</span> <span class="fu">TextEditingController</span>()<span class="op">;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> display <span class="op">=</span> <span class="st">"Belum ada data"</span><span class="op">;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  Widget <span class="fu">build</span>(BuildContext context) {</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">MaterialApp</span>(</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">home</span><span class="op">:</span> <span class="fu">SafeArea</span>(</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">child</span><span class="op">:</span> <span class="fu">Scaffold</span>(</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>          <span class="dt">body</span><span class="op">:</span> <span class="fu">Container</span>(</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>            <span class="dt">padding</span><span class="op">:</span> <span class="kw">const</span> EdgeInsets<span class="op">.</span><span class="fu">all</span>(<span class="dv">20</span>)<span class="op">,</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>            <span class="dt">child</span><span class="op">:</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>                <span class="fu">Column</span>(<span class="dt">mainAxisAlignment</span><span class="op">:</span> MainAxisAlignment<span class="op">.</span><span class="at">center</span><span class="op">,</span> <span class="dt">children</span><span class="op">:</span> [</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>              <span class="fu">Container</span>(</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">padding</span><span class="op">:</span> <span class="kw">const</span> EdgeInsets<span class="op">.</span><span class="fu">all</span>(<span class="dv">20</span>)<span class="op">,</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">child</span><span class="op">:</span> <span class="bu">Text</span>(</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>                    display<span class="op">,</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">style</span><span class="op">:</span> <span class="fu">TextStyle</span>(<span class="dt">fontSize</span><span class="op">:</span> <span class="dv">16</span>)<span class="op">,</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>                  )<span class="op">,</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">decoration</span><span class="op">:</span> <span class="fu">BoxDecoration</span>(</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">border</span><span class="op">:</span> Border<span class="op">.</span><span class="fu">all</span>(</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">width</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>                    )<span class="op">,</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>                  ))<span class="op">,</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>              <span class="fu">SizedBox</span>(</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>                <span class="dt">height</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>              <span class="fu">TextField</span>(</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>                <span class="dt">controller</span><span class="op">:</span> controllerName<span class="op">,</span></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>                <span class="dt">keyboardType</span><span class="op">:</span> TextInputType<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>                <span class="dt">decoration</span><span class="op">:</span> <span class="kw">const</span> <span class="fu">InputDecoration</span>(</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">label</span><span class="op">:</span> <span class="bu">Text</span>(<span class="st">'Name'</span>)<span class="op">,</span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>                )<span class="op">,</span></span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>              <span class="fu">TextField</span>(</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>                <span class="dt">controller</span><span class="op">:</span> controllerEmail<span class="op">,</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>                <span class="dt">keyboardType</span><span class="op">:</span> TextInputType<span class="op">.</span><span class="at">emailAddress</span><span class="op">,</span></span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>                <span class="dt">decoration</span><span class="op">:</span> <span class="kw">const</span> <span class="fu">InputDecoration</span>(</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>                  <span class="dt">label</span><span class="op">:</span> <span class="bu">Text</span>(<span class="st">'Email'</span>)<span class="op">,</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>                )<span class="op">,</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>              <span class="fu">SizedBox</span>(</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>                <span class="dt">height</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ElevatedButton</span>(</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>                <span class="dt">child</span><span class="op">:</span> <span class="kw">const</span> <span class="bu">Text</span>(<span class="st">'Submit'</span>)<span class="op">,</span></span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>                <span class="dt">onPressed</span><span class="op">:</span> () {}<span class="op">,</span></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>              )<span class="op">,</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>            ])<span class="op">,</span></span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>          )<span class="op">,</span></span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>        )<span class="op">,</span></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sebelum kita buat fungsi untuk post kita buat fungsi untuk get terlebih dahulu untuk mengambil data yang akan kita ubah, dan kita panggil fungsi di init state, agar langsung ambil data saat pertama kali dijalankan.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="dt">String</span> url <span class="op">=</span> <span class="st">'https://reqres.in/api/users/2'</span>;</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> fetchData() <span class="at">async</span> {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">final</span> http<span class="op">.</span>Response response <span class="op">=</span> <span class="at">await</span> http<span class="op">.</span><span class="kw">get</span>(Uri<span class="op">.</span>parse(url));</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (response<span class="op">.</span>statusCode <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>          jsonDecode(response<span class="op">.</span>body) <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>;</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>      setState(() {</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        display <span class="op">=</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Name : ${data['data']['first_name']} </span><span class="sc">\n</span><span class="st"> Email : ${data['data']['email']}"</span>;</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>      });</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">Exception</span>(<span class="st">'Failed to load data'</span>);</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">void</span> initState() {</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span><span class="op">.</span>initState();</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    fetchData();</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Untuk fungsi update data menggunakan method put, fungsi nya hampir sama dengan post, hanya kita ganti http.put menjadi http.post.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> updateData() <span class="at">async</span> {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> response <span class="op">=</span> <span class="at">await</span> http<span class="op">.</span>put(Uri<span class="op">.</span>parse(url)<span class="op">,</span> body<span class="op">:</span> {</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'first_name'</span><span class="op">:</span> controllerName<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'email'</span><span class="op">:</span> controllerEmail<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        jsonDecode(response<span class="op">.</span>body) <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>;</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    setState(() {</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>      display <span class="op">=</span> <span class="st">"Name : ${data['first_name']} </span><span class="sc">\n</span><span class="st"> Email : ${data['email']}"</span>;</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Bisa juga menggunakan method patch.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> updateData() <span class="at">async</span> {</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> response <span class="op">=</span> <span class="at">await</span> http<span class="op">.</span>patch(Uri<span class="op">.</span>parse(url)<span class="op">,</span> body<span class="op">:</span> {</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'first_name'</span><span class="op">:</span> controllerName<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'email'</span><span class="op">:</span> controllerEmail<span class="op">.</span>text<span class="op">,</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        jsonDecode(response<span class="op">.</span>body) <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>;</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    setState(() {</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>      display <span class="op">=</span> <span class="st">"Name : ${data['first_name']} </span><span class="sc">\n</span><span class="st"> Email : ${data['email']}"</span>;</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Dalam onPressed button submitnya isi dengan fungsi <code>updateData()</code> yang telah dibuat tadi.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilPut1.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sebelum PUT</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilPut2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Setelah PUT/PATCH</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="delete-data-rest-api" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="delete-data-rest-api"><span class="header-section-number">7.7</span> Delete Data Rest API</h2>
<section id="coba-api-dengan-postman-2" class="level3" data-number="7.7.1">
<h3 data-number="7.7.1" class="anchored" data-anchor-id="coba-api-dengan-postman-2"><span class="header-section-number">7.7.1</span> Coba API dengan Postman</h3>
<p>Untuk delete kita gunakan API yang sama dengan put <a href="https://reqres.in/api/users/2">https://reqres.in/api/users/2</a></p>
<p>Coba dulu menggunakan postman</p>
<p>Coba get dulu untuk melihat data yang ada di API.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanGet2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">GET dengan Postman</figcaption>
</figure>
</div>
<p>Lalu doba menggunakan menggunakan method <code>DELETE</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/postmanDelete.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">DELETE dengan Postman</figcaption>
</figure>
</div>
<p>Bisa dilihat <code>status code</code> nya <code>204 No Content</code> dan tidak ada data yang di tampilkan di body.</p>
</section>
<section id="penggunaan-di-flutter-2" class="level3" data-number="7.7.2">
<h3 data-number="7.7.2" class="anchored" data-anchor-id="penggunaan-di-flutter-2"><span class="header-section-number">7.7.2</span> Penggunaan di Flutter</h3>
<p>Untuk UI nya hanya perlu 1 button dan sebuah tampilan text.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'dart:convert'</span><span class="op">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:flutter/material.dart'</span><span class="op">;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="st">'package:http/http.dart'</span> <span class="im">as</span> http<span class="op">;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DeleteAPI <span class="kw">extends</span> StatefulWidget {</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> <span class="fu">DeleteAPI</span>({<span class="kw">super</span><span class="op">.</span><span class="at">key</span>})<span class="op">;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  State<span class="op">&lt;</span>DeleteAPI<span class="op">&gt;</span> <span class="fu">createState</span>() <span class="kw">=&gt;</span> <span class="fu">_DeleteAPIState</span>()<span class="op">;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> _DeleteAPIState <span class="kw">extends</span> State<span class="op">&lt;</span>DeleteAPI<span class="op">&gt;</span> {</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> display <span class="op">=</span> <span class="st">"Belum ada data"</span><span class="op">;</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  @override</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  Widget <span class="fu">build</span>(BuildContext context) {</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">MaterialApp</span>(</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">home</span><span class="op">:</span> <span class="fu">SafeArea</span>(</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">child</span><span class="op">:</span> <span class="fu">Scaffold</span>(</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>          <span class="dt">body</span><span class="op">:</span> <span class="fu">Center</span>(</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>            <span class="dt">child</span><span class="op">:</span> <span class="fu">Column</span>(</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>                <span class="dt">mainAxisAlignment</span><span class="op">:</span> MainAxisAlignment<span class="op">.</span><span class="at">center</span><span class="op">,</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>                <span class="dt">crossAxisAlignment</span><span class="op">:</span> CrossAxisAlignment<span class="op">.</span><span class="at">center</span><span class="op">,</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>                <span class="dt">children</span><span class="op">:</span> [</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">Container</span>(</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">padding</span><span class="op">:</span> <span class="kw">const</span> EdgeInsets<span class="op">.</span><span class="fu">all</span>(<span class="dv">20</span>)<span class="op">,</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">child</span><span class="op">:</span> <span class="bu">Text</span>(</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>                        display<span class="op">,</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">style</span><span class="op">:</span> <span class="fu">TextStyle</span>(<span class="dt">fontSize</span><span class="op">:</span> <span class="dv">16</span>)<span class="op">,</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>                      )<span class="op">,</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">decoration</span><span class="op">:</span> <span class="fu">BoxDecoration</span>(</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">border</span><span class="op">:</span> Border<span class="op">.</span><span class="fu">all</span>(</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>                          <span class="dt">width</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>                        )<span class="op">,</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>                      ))<span class="op">,</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">SizedBox</span>(</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">height</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>                  )<span class="op">,</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">ElevatedButton</span>(</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">child</span><span class="op">:</span> <span class="kw">const</span> <span class="bu">Text</span>(<span class="st">'Delete'</span>)<span class="op">,</span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">onPressed</span><span class="op">:</span> () {}<span class="op">,</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>                  )<span class="op">,</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>                ])<span class="op">,</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>          )<span class="op">,</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>        )<span class="op">,</span></span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Sebelum kita buat fungsi untuk delete kita buat fungsi untuk get terlebih dahulu untuk mengambil data yang akan kita delete, dan kita panggil fungsi di init state, agar langsung ambil data saat pertama kali dijalankan.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="dt">String</span> url <span class="op">=</span> <span class="st">'https://reqres.in/api/users/2'</span>;</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> fetchData() <span class="at">async</span> {</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">final</span> http<span class="op">.</span>Response response <span class="op">=</span> <span class="at">await</span> http<span class="op">.</span><span class="kw">get</span>(Uri<span class="op">.</span>parse(url));</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (response<span class="op">.</span>statusCode <span class="op">==</span> <span class="dv">200</span>) {</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span> data <span class="op">=</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>          jsonDecode(response<span class="op">.</span>body) <span class="kw">as</span> <span class="dt">Map</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">,</span> <span class="at">dynamic</span><span class="op">&gt;</span>;</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      setState(() {</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        display <span class="op">=</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Name : ${data['data']['first_name']} </span><span class="sc">\n</span><span class="st"> Email : ${data['data']['email']}"</span>;</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>      });</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">Exception</span>(<span class="st">'Failed to load data'</span>);</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">@override</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">void</span> initState() {</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">super</span><span class="op">.</span>initState();</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    fetchData();</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lalu untuk fungsi delete data menggunakan method delete, tidak perlu mengisi body, cukup url nya saja.</p>
<p>Karena jika berhasil response nya tidak akan mengembalikan body, ditampillan kita ubah saja dengan <code>status code</code> nya</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode dart code-with-copy"><code class="sourceCode dart"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Future</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> deleteData() <span class="at">async</span> {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">var</span> response <span class="op">=</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">await</span> http<span class="op">.</span>delete(Uri<span class="op">.</span>parse(<span class="st">'https://reqres.in/api/users/2'</span>));</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    setState(() {</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>      display <span class="op">=</span> response<span class="op">.</span>statusCode<span class="op">.</span>toString();</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    });</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilDelete1.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sebelum DELETE</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/7_api/hasilDelete2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Setelah DELETE</figcaption>
</figure>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./6_akses_data_lokal.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Akses Data Lokal</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./8_integrasi_baas.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Integrasi dengan BAaS</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>